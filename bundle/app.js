"use strict";(()=>{var Kt,v,un,Cs,Ie,cn,gn,Ar,mn,Mr,Kr,Lr,fn,ot={},hn=[],Rs=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ir=Array.isArray;function Te(t,e){for(var r in e)t[r]=e[r];return t}function Or(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function yn(t,e,r){var n,a,o,i={};for(o in e)o=="key"?n=e[o]:o=="ref"?a=e[o]:i[o]=e[o];if(arguments.length>2&&(i.children=arguments.length>3?Kt.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)i[o]===void 0&&(i[o]=t.defaultProps[o]);return Nt(t,i,n,a,null)}function Nt(t,e,r,n,a){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++un,__i:-1,__u:0};return a==null&&v.vnode!=null&&v.vnode(o),o}function Z(t){return t.children}function pe(t,e){this.props=t,this.context=e}function $e(t,e){if(e==null)return t.__?$e(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?$e(t):null}function vn(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return vn(t)}}function Dr(t){(!t.__d&&(t.__d=!0)&&Ie.push(t)&&!At.__r++||cn!==v.debounceRendering)&&((cn=v.debounceRendering)||gn)(At)}function At(){var t,e,r,n,a,o,i,c;for(Ie.sort(Ar);t=Ie.shift();)t.__d&&(e=Ie.length,n=void 0,o=(a=(r=t).__v).__e,i=[],c=[],r.__P&&((n=Te({},a)).__v=a.__v+1,v.vnode&&v.vnode(n),Gr(r.__P,n,a,r.__n,r.__P.namespaceURI,32&a.__u?[o]:null,i,o??$e(a),!!(32&a.__u),c),n.__v=a.__v,n.__.__k[n.__i]=n,wn(i,n,c),n.__e!=o&&vn(n)),Ie.length>e&&Ie.sort(Ar));At.__r=0}function xn(t,e,r,n,a,o,i,c,u,g,y){var p,f,V,R,l,h,m=n&&n.__k||hn,P=e.length;for(u=ks(r,e,m,u,P),p=0;p<P;p++)(V=r.__k[p])!=null&&(f=V.__i===-1?ot:m[V.__i]||ot,V.__i=p,h=Gr(t,V,f,a,o,i,c,u,g,y),R=V.__e,V.ref&&f.ref!=V.ref&&(f.ref&&Wr(f.ref,null,V),y.push(V.ref,V.__c||R,V)),l==null&&R!=null&&(l=R),4&V.__u||f.__k===V.__k?u=bn(V,u,t):typeof V.type=="function"&&h!==void 0?u=h:R&&(u=R.nextSibling),V.__u&=-7);return r.__e=l,u}function ks(t,e,r,n,a){var o,i,c,u,g,y=r.length,p=y,f=0;for(t.__k=new Array(a),o=0;o<a;o++)(i=e[o])!=null&&typeof i!="boolean"&&typeof i!="function"?(u=o+f,(i=t.__k[o]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Nt(null,i,null,null,null):Ir(i)?Nt(Z,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Nt(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,c=null,(g=i.__i=Ss(i,r,u,p))!==-1&&(p--,(c=r[g])&&(c.__u|=2)),c==null||c.__v===null?(g==-1&&f--,typeof i.type!="function"&&(i.__u|=4)):g!=u&&(g==u-1?f--:g==u+1?f++:(g>u?f--:f++,i.__u|=4))):t.__k[o]=null;if(p)for(o=0;o<y;o++)(c=r[o])!=null&&!(2&c.__u)&&(c.__e==n&&(n=$e(c)),_n(c,c));return n}function bn(t,e,r){var n,a;if(typeof t.type=="function"){for(n=t.__k,a=0;n&&a<n.length;a++)n[a]&&(n[a].__=t,e=bn(n[a],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=$e(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ss(t,e,r,n){var a,o,i=t.key,c=t.type,u=e[r];if(u===null||u&&i==u.key&&c===u.type&&!(2&u.__u))return r;if(n>(u!=null&&!(2&u.__u)?1:0))for(a=r-1,o=r+1;a>=0||o<e.length;){if(a>=0){if((u=e[a])&&!(2&u.__u)&&i==u.key&&c===u.type)return a;a--}if(o<e.length){if((u=e[o])&&!(2&u.__u)&&i==u.key&&c===u.type)return o;o++}}return-1}function pn(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Rs.test(e)?r:r+"px"}function Et(t,e,r,n,a){var o;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||pn(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||pn(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(mn,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=Mr,t.addEventListener(e,o?Lr:Kr,o)):t.removeEventListener(e,o?Lr:Kr,o);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function dn(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Mr++;else if(e.t<r.u)return;return r(v.event?v.event(e):e)}}}function Gr(t,e,r,n,a,o,i,c,u,g){var y,p,f,V,R,l,h,m,P,F,C,W,q,ge,me,fe,le,L=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(u=!!(32&r.__u),o=[c=e.__e=r.__e]),(y=v.__b)&&y(e);e:if(typeof L=="function")try{if(m=e.props,P="prototype"in L&&L.prototype.render,F=(y=L.contextType)&&n[y.__c],C=y?F?F.props.value:y.__:n,r.__c?h=(p=e.__c=r.__c).__=p.__E:(P?e.__c=p=new L(m,C):(e.__c=p=new pe(m,C),p.constructor=L,p.render=Es),F&&F.sub(p),p.props=m,p.state||(p.state={}),p.context=C,p.__n=n,f=p.__d=!0,p.__h=[],p._sb=[]),P&&p.__s==null&&(p.__s=p.state),P&&L.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Te({},p.__s)),Te(p.__s,L.getDerivedStateFromProps(m,p.__s))),V=p.props,R=p.state,p.__v=e,f)P&&L.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),P&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(P&&L.getDerivedStateFromProps==null&&m!==V&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(m,C),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(m,p.__s,C)===!1||e.__v==r.__v)){for(e.__v!=r.__v&&(p.props=m,p.state=p.__s,p.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(ce){ce&&(ce.__=e)}),W=0;W<p._sb.length;W++)p.__h.push(p._sb[W]);p._sb=[],p.__h.length&&i.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(m,p.__s,C),P&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(V,R,l)})}if(p.context=C,p.props=m,p.__P=t,p.__e=!1,q=v.__r,ge=0,P){for(p.state=p.__s,p.__d=!1,q&&q(e),y=p.render(p.props,p.state,p.context),me=0;me<p._sb.length;me++)p.__h.push(p._sb[me]);p._sb=[]}else do p.__d=!1,q&&q(e),y=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++ge<25);p.state=p.__s,p.getChildContext!=null&&(n=Te(Te({},n),p.getChildContext())),P&&!f&&p.getSnapshotBeforeUpdate!=null&&(l=p.getSnapshotBeforeUpdate(V,R)),c=xn(t,Ir(fe=y!=null&&y.type===Z&&y.key==null?y.props.children:y)?fe:[fe],e,r,n,a,o,i,c,u,g),p.base=e.__e,e.__u&=-161,p.__h.length&&i.push(p),h&&(p.__E=p.__=null)}catch(ce){if(e.__v=null,u||o!=null)if(ce.then){for(e.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,e.__e=c}else for(le=o.length;le--;)Or(o[le]);else e.__e=r.__e,e.__k=r.__k;v.__e(ce,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):c=e.__e=Fs(r.__e,e,r,n,a,o,i,u,g);return(y=v.diffed)&&y(e),128&e.__u?void 0:c}function wn(t,e,r){for(var n=0;n<r.length;n++)Wr(r[n],r[++n],r[++n]);v.__c&&v.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(o){o.call(a)})}catch(o){v.__e(o,a.__v)}})}function Fs(t,e,r,n,a,o,i,c,u){var g,y,p,f,V,R,l,h=r.props,m=e.props,P=e.type;if(P=="svg"?a="http://www.w3.org/2000/svg":P=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),o!=null){for(g=0;g<o.length;g++)if((V=o[g])&&"setAttribute"in V==!!P&&(P?V.localName==P:V.nodeType==3)){t=V,o[g]=null;break}}if(t==null){if(P==null)return document.createTextNode(m);t=document.createElementNS(a,P,m.is&&m),c&&(v.__m&&v.__m(e,o),c=!1),o=null}if(P===null)h===m||c&&t.data===m||(t.data=m);else{if(o=o&&Kt.call(t.childNodes),h=r.props||ot,!c&&o!=null)for(h={},g=0;g<t.attributes.length;g++)h[(V=t.attributes[g]).name]=V.value;for(g in h)if(V=h[g],g!="children"){if(g=="dangerouslySetInnerHTML")p=V;else if(!(g in m)){if(g=="value"&&"defaultValue"in m||g=="checked"&&"defaultChecked"in m)continue;Et(t,g,null,V,a)}}for(g in m)V=m[g],g=="children"?f=V:g=="dangerouslySetInnerHTML"?y=V:g=="value"?R=V:g=="checked"?l=V:c&&typeof V!="function"||h[g]===V||Et(t,g,V,h[g],a);if(y)c||p&&(y.__html===p.__html||y.__html===t.innerHTML)||(t.innerHTML=y.__html),e.__k=[];else if(p&&(t.innerHTML=""),xn(t,Ir(f)?f:[f],e,r,n,P=="foreignObject"?"http://www.w3.org/1999/xhtml":a,o,i,o?o[0]:r.__k&&$e(r,0),c,u),o!=null)for(g=o.length;g--;)Or(o[g]);c||(g="value",P=="progress"&&R==null?t.removeAttribute("value"):R!==void 0&&(R!==t[g]||P=="progress"&&!R||P=="option"&&R!==h[g])&&Et(t,g,R,h[g],a),g="checked",l!==void 0&&l!==t[g]&&Et(t,g,l,h[g],a))}return t}function Wr(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(a){v.__e(a,r)}}function _n(t,e,r){var n,a;if(v.unmount&&v.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Wr(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){v.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&_n(n[a],e,r||typeof t.type!="function");r||Or(t.__e),t.__c=t.__=t.__e=void 0}function Es(t,e,r){return this.constructor(t,r)}function Ce(t,e,r){var n,a,o,i;e==document&&(e=document.documentElement),v.__&&v.__(t,e),a=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],i=[],Gr(e,t=(!n&&r||e).__k=yn(Z,null,[t]),a||ot,ot,e.namespaceURI,!n&&r?[r]:a?null:e.firstChild?Kt.call(e.childNodes):null,o,!n&&r?r:a?a.__e:e.firstChild,n,i),wn(o,t,i)}function Vn(t,e){var r={__c:e="__cC"+fn++,__:t,Consumer:function(n,a){return n.children(a)},Provider:function(n){var a,o;return this.getChildContext||(a=new Set,(o={})[e]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){a=null},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&a.forEach(function(c){c.__e=!0,Dr(c)})},this.sub=function(i){a.add(i);var c=i.componentWillUnmount;i.componentWillUnmount=function(){a&&a.delete(i),c&&c.call(i)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Kt=hn.slice,v={__e:function(t,e,r,n){for(var a,o,i;e=e.__;)if((a=e.__c)&&!a.__)try{if((o=a.constructor)&&o.getDerivedStateFromError!=null&&(a.setState(o.getDerivedStateFromError(t)),i=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,n||{}),i=a.__d),i)return a.__E=a}catch(c){t=c}throw t}},un=0,Cs=function(t){return t!=null&&t.constructor==null},pe.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Te({},this.state),typeof t=="function"&&(t=t(Te({},r),this.props)),t&&Te(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Dr(this))},pe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Dr(this))},pe.prototype.render=Z,Ie=[],gn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ar=function(t,e){return t.__v.__b-e.__v.__b},At.__r=0,mn=/(PointerCapture)$|Capture$/i,Mr=0,Kr=dn(!1),Lr=dn(!0),fn=0;var Br;(Br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0)!=null&&Br.__PREACT_DEVTOOLS__&&Br.__PREACT_DEVTOOLS__.attachPreact("10.25.2",v,{Fragment:Z,Component:pe});var Pn={};function he(t){return t.type===Z?"Fragment":typeof t.type=="function"?t.type.displayName||t.type.name:typeof t.type=="string"?t.type:"#text"}var it=[],ze=[];function Cn(){return it.length>0?it[it.length-1]:null}var Tn=!0;function Hr(t){return typeof t.type=="function"&&t.type!=Z}function I(t){for(var e=[t],r=t;r.__o!=null;)e.push(r.__o),r=r.__o;return e.reduce(function(n,a){n+="  in "+he(a);var o=a.__source;return o?n+=" (at "+o.fileName+":"+o.lineNumber+")":Tn&&console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons."),Tn=!1,n+`
`},"")}var Ns=typeof WeakMap=="function";function zr(t){var e=[];return t.__k&&t.__k.forEach(function(r){r&&typeof r.type=="function"?e.push.apply(e,zr(r)):r&&typeof r.type=="string"&&e.push(r.type)}),e}function Rn(t){return t?typeof t.type=="function"?t.__==null?t.__e!=null&&t.__e.parentNode!=null?t.__e.parentNode.localName:"":Rn(t.__):t.type:""}var As=pe.prototype.setState;function $r(t){return t==="table"||t==="tfoot"||t==="tbody"||t==="thead"||t==="td"||t==="tr"||t==="th"}pe.prototype.setState=function(t,e){return this.__v==null&&this.state==null&&console.warn(`Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.

`+I(Cn())),As.call(this,t,e)};var Ks=/^(address|article|aside|blockquote|details|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|main|menu|nav|ol|p|pre|search|section|table|ul)$/,Ls=pe.prototype.forceUpdate;function se(t){var e=t.props,r=he(t),n="";for(var a in e)if(e.hasOwnProperty(a)&&a!=="children"){var o=e[a];typeof o=="function"&&(o="function "+(o.displayName||o.name)+"() {}"),o=Object(o)!==o||o.toString?o+"":Object.prototype.toString.call(o),n+=" "+a+"="+JSON.stringify(o)}var i=e.children;return"<"+r+n+(i&&i.length?">..</"+r+">":" />")}pe.prototype.forceUpdate=function(t){return this.__v==null?console.warn(`Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.

`+I(Cn())):this.__P==null&&console.warn(`Can't call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.

`+I(this.__v)),Ls.call(this,t)},v.__m=function(t,e){var r=t.type,n=e.map(function(a){return a&&a.localName}).filter(Boolean);console.error("Expected a DOM node of type "+r+" but found "+n.join(", ")+` as available DOM-node(s), this is caused by the SSR'd HTML containing different DOM-nodes compared to the hydrated one.

`+I(t))},function(){(function(){var l=v.__b,h=v.diffed,m=v.__,P=v.vnode,F=v.__r;v.diffed=function(C){Hr(C)&&ze.pop(),it.pop(),h&&h(C)},v.__b=function(C){Hr(C)&&it.push(C),l&&l(C)},v.__=function(C,W){ze=[],m&&m(C,W)},v.vnode=function(C){C.__o=ze.length>0?ze[ze.length-1]:null,P&&P(C)},v.__r=function(C){Hr(C)&&ze.push(C),F&&F(C)}})();var t=!1,e=v.__b,r=v.diffed,n=v.vnode,a=v.__r,o=v.__e,i=v.__,c=v.__h,u=Ns?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,g=[];v.__e=function(l,h,m,P){if(h&&h.__c&&typeof l.then=="function"){var F=l;l=new Error("Missing Suspense. The throwing component was: "+he(h));for(var C=h;C;C=C.__)if(C.__c&&C.__c.__c){l=F;break}if(l instanceof Error)throw l}try{(P=P||{}).componentStack=I(h),o(l,h,m,P),typeof l.then!="function"&&setTimeout(function(){throw l})}catch(W){throw W}},v.__=function(l,h){if(!h)throw new Error(`Undefined parent passed to render(), this is the second argument.
Check if the element is available in the DOM/has the correct id.`);var m;switch(h.nodeType){case 1:case 11:case 9:m=!0;break;default:m=!1}if(!m){var P=he(l);throw new Error("Expected a valid HTML node as a second argument to render.	Received "+h+" instead: render(<"+P+" />, "+h+");")}i&&i(l,h)},v.__b=function(l){var h=l.type;if(t=!0,h===void 0)throw new Error(`Undefined component passed to createElement()

You likely forgot to export your component or might have mixed up default and named imports`+se(l)+`

`+I(l));if(h!=null&&typeof h=="object")throw h.__k!==void 0&&h.__e!==void 0?new Error("Invalid type passed to createElement(): "+h+`

Did you accidentally pass a JSX literal as JSX twice?

  let My`+he(l)+" = "+se(h)+`;
  let vnode = <My`+he(l)+` />;

This usually happens when you export a JSX literal and not the component.

`+I(l)):new Error("Invalid type passed to createElement(): "+(Array.isArray(h)?"array":h));if(l.ref!==void 0&&typeof l.ref!="function"&&typeof l.ref!="object"&&!("$$typeof"in l))throw new Error(`Component's "ref" property should be a function, or an object created by createRef(), but got [`+typeof l.ref+`] instead
`+se(l)+`

`+I(l));if(typeof l.type=="string"){for(var m in l.props)if(m[0]==="o"&&m[1]==="n"&&typeof l.props[m]!="function"&&l.props[m]!=null)throw new Error(`Component's "`+m+'" property should be a function, but got ['+typeof l.props[m]+`] instead
`+se(l)+`

`+I(l))}if(typeof l.type=="function"&&l.type.propTypes){if(l.type.displayName==="Lazy"&&u&&!u.lazyPropTypes.has(l.type)){var P="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var F=l.type();u.lazyPropTypes.set(l.type,!0),console.warn(P+"Component wrapped in lazy() is "+he(F))}catch{console.warn(P+"We will log the wrapped component's name once it is loaded.")}}var C=l.props;l.type.__f&&delete(C=function(W,q){for(var ge in q)W[ge]=q[ge];return W}({},C)).ref,function(W,q,ge,me,fe){Object.keys(W).forEach(function(le){var L;try{L=W[le](q,le,me,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ce){L=ce}L&&!(L.message in Pn)&&(Pn[L.message]=!0,console.error("Failed prop type: "+L.message+(fe&&`
`+fe()||"")))})}(l.type.propTypes,C,0,he(l),function(){return I(l)})}e&&e(l)};var y,p=0;v.__r=function(l){a&&a(l),t=!0;var h=l.__c;if(h===y?p++:p=1,p>=25)throw new Error("Too many re-renders. This is limited to prevent an infinite loop which may lock up your browser. The component causing this is: "+he(l));y=h},v.__h=function(l,h,m){if(!l||!t)throw new Error("Hook can only be invoked from render methods.");c&&c(l,h,m)};var f=function(l,h){return{get:function(){var m="get"+l+h;g&&g.indexOf(m)<0&&(g.push(m),console.warn("getting vnode."+l+" is deprecated, "+h))},set:function(){var m="set"+l+h;g&&g.indexOf(m)<0&&(g.push(m),console.warn("setting vnode."+l+" is not allowed, "+h))}}},V={nodeName:f("nodeName","use vnode.type"),attributes:f("attributes","use vnode.props"),children:f("children","use vnode.props.children")},R=Object.create({},V);v.vnode=function(l){var h=l.props;if(l.type!==null&&h!=null&&("__source"in h||"__self"in h)){var m=l.props={};for(var P in h){var F=h[P];P==="__source"?l.__source=F:P==="__self"?l.__self=F:m[P]=F}}l.__proto__=R,n&&n(l)},v.diffed=function(l){var h,m=l.type,P=l.__;if(l.__k&&l.__k.forEach(function(He){if(typeof He=="object"&&He&&He.type===void 0){var Ts=Object.keys(He).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+Ts+`}.

`+I(l))}}),l.__c===y&&(p=0),typeof m=="string"&&($r(m)||m==="p"||m==="a"||m==="button")){var F=Rn(P);if(F!==""&&$r(m))m==="table"&&F!=="td"&&$r(F)?(console.log(F,P.__e),console.error("Improper nesting of table. Your <table> should not have a table-node parent."+se(l)+`

`+I(l))):m!=="thead"&&m!=="tfoot"&&m!=="tbody"||F==="table"?m==="tr"&&F!=="thead"&&F!=="tfoot"&&F!=="tbody"?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot> parent."+se(l)+`

`+I(l)):m==="td"&&F!=="tr"?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+se(l)+`

`+I(l)):m==="th"&&F!=="tr"&&console.error("Improper nesting of table. Your <th> should have a <tr>."+se(l)+`

`+I(l)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+se(l)+`

`+I(l));else if(m==="p"){var C=zr(l).filter(function(He){return Ks.test(He)});C.length&&console.error("Improper nesting of paragraph. Your <p> should not have "+C.join(", ")+" as child-elements."+se(l)+`

`+I(l))}else m!=="a"&&m!=="button"||zr(l).indexOf(m)!==-1&&console.error("Improper nesting of interactive content. Your <"+m+"> should not have other "+(m==="a"?"anchor":"button")+" tags as child-elements."+se(l)+`

`+I(l))}if(t=!1,r&&r(l),l.__k!=null)for(var W=[],q=0;q<l.__k.length;q++){var ge=l.__k[q];if(ge&&ge.key!=null){var me=ge.key;if(W.indexOf(me)!==-1){console.error('Following component has two or more children with the same key attribute: "'+me+`". This may cause glitches and misbehavior in rendering process. Component: 

`+se(l)+`

`+I(l));break}W.push(me)}}if(l.__c!=null&&l.__c.__H!=null){var fe=l.__c.__H.__;if(fe)for(var le=0;le<fe.length;le+=1){var L=fe[le];if(L.__H){for(var ce=0;ce<L.__H.length;ce++)if((h=L.__H[ce])!=h){var Ps=he(l);console.warn("Invalid argument passed to hook. Hooks should not be called with NaN in the dependency array. Hook index "+le+" in component "+Ps+" was called with NaN.")}}}}}}();function Lt(t){return`id-${t}`}function ae(t){return`cl-${t}`}function Ue(t){return`data-${t}`}var Dt=typeof document>"u"?void 0:document,Ur=Dt?.querySelector.bind(Dt),Ds=Dt?.querySelectorAll.bind(Dt),we=t=>Ur(`#${Lt(t)}`)??void 0,X=t=>Ds(`.${ae(t)}`),lt=(t,e)=>t?.getAttribute(Ue(e))??void 0;function Y(t){return{onClick:e=>{e.stopPropagation(),t(e)},onKeyDown:e=>{e.stopPropagation(),e.key==="Enter"&&(e.preventDefault(),t(e))}}}function ye(t,e,r,n){if(t||console.warn("missing target",{type:e,listener:r,opt:n}),t?.addEventListener(e,r,n),t)return()=>Ms(t,e,r,n)}function Ms(t,e,r,n){t||console.warn("missing target",{type:e,listener:r,opt:n}),t?.removeEventListener(e,r,n)}function kn(t,e){return t||console.warn("missing target",e),t?.dispatchEvent(e)}function Sn(t,e,r={bubbles:!0,composed:!0,cancelable:void 0}){return new CustomEvent(t,{detail:e,...r})}function Oe(t){return e=>{e.target&&"tagName"in e.target&&t(e.target,e)}}var Re="!n",Ye="!t",je="!f",Ze="(",Je="!(",ve=")",qe=":",ke=",",ct="string",Mt="number";var de={quote:()=>(t,e)=>{if(!t.startsWith("'",e))return null;let r=e;for(;;){if(t.length<=++r)throw new SyntaxError("Unexpected end of Rison input");switch(t[r]){case"!":r++;continue;case"'":return{kind:ct,value:t.slice(e,r+1)}}}},string:t=>(e,r)=>e.startsWith(t,r)?{kind:t,value:t}:null,regexp:(t,e)=>(r,n)=>{let a=e.exec(r.slice(n));return a?{kind:t,value:a[0]}:null}},Is=[de.quote(),de.string(Ze),de.string(Je),de.string(ve),de.string(Re),de.string(Ye),de.string(je),de.string(qe),de.string(ke),de.regexp(ct,/^[^0-9- '!:(),*@$][^ '!:(),*@$]*/),de.regexp(Mt,/^-?([1-9][0-9]*|[0-9])(\.[0-9]+)?(e-?[0-9]+)?/)],It=class{source;pos=0;constructor(e){this.source=e}position(){return this.pos}length(){return this.source.length}nextToken(){if(this.pos>=this.source.length)return null;for(let e of Is){let r=e(this.source,this.pos);if(r!==null)return this.pos+=r.value.length,r}throw new SyntaxError(`Unexpected token ${this.source[this.pos]} in Rison at position ${this.pos}`)}syntaxError(e){let r=this.pos-e.value.length;return new SyntaxError(`Unexpected token ${this.source[r]} in Rison at position ${r}`)}};var Ot=class{lexer;constructor(e){this.lexer=e}readAsAny(){let e=this.asAny(this.nextToken());if(this.lexer.position()<this.lexer.length())throw this.lexer.syntaxError(this.nextToken());return e}asAny(e){switch(e.kind){case Re:return null;case Ye:return!0;case je:return!1;case ct:return this.asString(e);case Mt:return Number(e.value);case Ze:return this.readAsObject();case Je:return this.readAsArray();default:throw this.lexer.syntaxError(e)}}asString(e){return e.value[0]==="'"?e.value.replace(/!./g,r=>r[1]).slice(1,-1):e.value}readAsObject(){let e={},r=this.nextToken();for(;r.kind!==ve;){let n=this.asString(r);this.expectToken(qe);let a=this.asAny(this.nextToken());if(e[n]=a,r=this.nextToken(),r.kind===ve)break;if(r.kind!==ke)throw this.lexer.syntaxError(r);r=this.nextToken()}return e}readAsArray(){let e=[],r=this.nextToken();for(;r.kind!==ve&&(e.push(this.asAny(r)),r=this.nextToken(),r.kind!==ve);){if(r.kind!==ke)throw this.lexer.syntaxError(r);r=this.nextToken()}return e}expectToken(e){let r=this.nextToken();if(r.kind!==e)throw this.lexer.syntaxError(r)}nextToken(){let e=this.lexer.nextToken();if(!e)throw new SyntaxError("Unexpected end of Rison input");return e}};var Os=/^[^0-9- '!:(),*@$][^ '!:(),*@$]*$/,Gt=class{value(e){if(e!==void 0){if(e===null)return Re;switch(typeof e){case"object":return Array.isArray(e)?`${Je}${this.array(e)}${ve}`:`${Ze}${this.object(e)}${ve}`;case"boolean":return this.boolean(e);case"number":return this.number(e);case"string":return this.string(e);case"bigint":throw new TypeError("Do not known how to serialize a BigInt");default:return}}}object(e){return Object.entries(e).reduce((r,[n,a])=>{let o=this.value(a);if(o===void 0)return r;let i=`${this.string(n)}${qe}${o}`;return r.length>0?`${r}${ke}${i}`:i},"")}array(e){return e.reduce((r,n)=>{let a=this.value(n)||Re;return r.length>0?`${r}${ke}${a}`:a},"")}boolean(e){return e?Ye:je}number(e){return Number.isFinite(e)?e.toString().replace("+",""):Re}string(e){return Os.test(e)?e:`'${e.replace(/[!']/g,r=>`!${r}`)}'`}};var xe={parse:t=>{let e=new It(t);return new Ot(e).readAsAny()},stringify:t=>new Gt().value(t)};var Bs=/^[-A-Za-z0-9~!*()_.',:@$/]*$/,Fn=t=>Bs.test(t)?t:encodeURIComponent(t).replace(/%2C/g,",").replace(/%3A/g,":").replace(/%40/g,"@").replace(/%24/g,"$").replace(/%2F/g,"/").replace(/%20/g,"+"),En=t=>decodeURIComponent(t.replace(/\+/g,"%20")),Nn={parse:t=>xe.parse(En(t)),stringify:t=>Fn(xe.stringify(t))};var oi=Nn.parse,ii=Nn.stringify;var pi=xe.parse,di=xe.stringify;var k=(t,e)=>e(t),Xe=(t,e)=>(e(t),t);function An(t){for(let e in t)if(Object.hasOwn(t,e))return!1;return!0}var pt=typeof window>"u"?void 0:window;function Wt(t){if(!t)return"";if(t instanceof URL||t instanceof Location)return t.hash.slice(1);let e=t.indexOf("#");return e!==-1?t.slice(e+1):t}var K=class extends EventTarget{#e=pt.location.hash.slice(1);#t;#r;static deserialize(e=pt.location.hash){try{let r=e.slice(e.indexOf("#")+1).trim();if(r.length>2&&r.startsWith("(")&&r.endsWith(")"))return xe.parse(r)}catch(r){console.warn("Failed to parse RISON:",e,r)}}static serialize(e){try{return An(e)?void 0:xe.stringify(e)}catch(r){console.error("Failed to serialize data",r)}}bind(){return this.destroy(),this.#r=this.#a.bind(this),pt.addEventListener("hashchange",this.#r),this}destroy(){this.#r&&(pt.removeEventListener("hashchange",this.#r),this.#r=void 0)}get fragment(){return this.#e}get previous(){return this.#t}#a({newURL:e,oldURL:r}){let n=Wt(e);n!==this.#e&&(this.#t=Wt(r),this.#e=n,this.dispatchEvent(this.#n(Ln)),this.dispatchEvent(this.#n(Kn)))}pushState(e){let r=Wt(e);r!==this.#e&&(this.#t=this.#e,this.#e=r,history.pushState(null,"",`#${r}`),this.dispatchEvent(this.#n(Kn)))}update(e){pt.location.hash=Wt(e)}onUserChange(e){return ye(this,Ln,e)}#n(e){return new Yr(e,{fragment:this.#e,previous:this.#t})}},Kn="fragmentchange",Ln="fragmentuserchange",Yr=class extends CustomEvent{constructor(e,r,n={bubbles:!0,cancelable:void 0,composed:!0}){super(e,{...n,detail:r})}get fragment(){return this.detail.fragment}get previous(){return this.detail.previous}get deserFrag(){return K.deserialize(this.detail.fragment)}get deserPrev(){let{previous:e}=this.detail;return e?K.deserialize(e):void 0}};var Qe,E,jr,Dn,Ht=0,$n=[],M=v,Mn=M.__b,In=M.__r,On=M.diffed,Gn=M.__c,Wn=M.unmount,Bn=M.__;function $t(t,e){M.__h&&M.__h(E,t,Ht||e),Ht=0;var r=E.__H||(E.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Se(t){return Ht=1,$s(Un,t)}function $s(t,e,r){var n=$t(Qe++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Un(void 0,e),function(c){var u=n.__N?n.__N[0]:n.__[0],g=n.t(u,c);u!==g&&(n.__N=[g,n.__[1]],n.__c.setState({}))}],n.__c=E,!E.u)){var a=function(c,u,g){if(!n.__c.__H)return!0;var y=n.__c.__H.__.filter(function(f){return!!f.__c});if(y.every(function(f){return!f.__N}))return!o||o.call(this,c,u,g);var p=n.__c.props!==c;return y.forEach(function(f){if(f.__N){var V=f.__[0];f.__=f.__N,f.__N=void 0,V!==f.__[0]&&(p=!0)}}),o&&o.call(this,c,u,g)||p};E.u=!0;var o=E.shouldComponentUpdate,i=E.componentWillUpdate;E.componentWillUpdate=function(c,u,g){if(this.__e){var y=o;o=void 0,a(c,u,g),o=y}i&&i.call(this,c,u,g)},E.shouldComponentUpdate=a}return n.__N||n.__}function j(t,e){var r=$t(Qe++,3);!M.__s&&zn(r.__H,e)&&(r.__=t,r.i=e,E.__H.__h.push(r))}function Q(t){return Ht=5,zs(function(){return{current:t}},[])}function zs(t,e){var r=$t(Qe++,7);return zn(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function oe(t){var e=E.context[t.__c],r=$t(Qe++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(E)),e.props.value):t.__}function Us(){for(var t;t=$n.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Bt),t.__H.__h.forEach(Zr),t.__H.__h=[]}catch(e){t.__H.__h=[],M.__e(e,t.__v)}}M.__b=function(t){E=null,Mn&&Mn(t)},M.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Bn&&Bn(t,e)},M.__r=function(t){In&&In(t),Qe=0;var e=(E=t.__c).__H;e&&(jr===E?(e.__h=[],E.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(e.__h.forEach(Bt),e.__h.forEach(Zr),e.__h=[],Qe=0)),jr=E},M.diffed=function(t){On&&On(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&($n.push(e)!==1&&Dn===M.requestAnimationFrame||((Dn=M.requestAnimationFrame)||Ys)(Us)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),jr=E=null},M.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Bt),r.__h=r.__h.filter(function(n){return!n.__||Zr(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],M.__e(n,r.__v)}}),Gn&&Gn(t,e)},M.unmount=function(t){Wn&&Wn(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Bt(n)}catch(a){e=a}}),r.__H=void 0,e&&M.__e(e,r.__v))};var Hn=typeof requestAnimationFrame=="function";function Ys(t){var e,r=function(){clearTimeout(n),Hn&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Hn&&(e=requestAnimationFrame(r))}function Bt(t){var e=E,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),E=e}function Zr(t){var e=E;t.__c=t.__(),E=e}function zn(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Un(t,e){return typeof e=="function"?e(t):e}var ee=class{constructor(e){this.data=e}clone(){let e=this.constructor,r=new e(this.data);return r.dispatcher=this.dispatcher,r}dispatch(){return this.dispatcher?.(this.clone()),this}};function N(t){let[e,r]=Se(t);return e.dispatcher=r,e}function zt(t){let e=Q();return j(()=>{let r=e.current?.parentElement;r&&t&&(r.state=t)},[t]),e}var Fe="hover:bg-hiliteb/75 hover:text-hilitef cursor-pointer",Ut="rounded p-1 hover:text-hiliteb hover:ring-1 hover:ring-primary",et="rounded-2xl hover:bg-background/20 hover:text-hiliteb";var U="bg-background text-foreground placeholder:text-foreground/50",dt="prose dark:prose-invert sm:prose-sm lg:prose-lg xl:prose-xl",Pi=`${dt} max-w-[80ch] mx-auto`,Ee="overflow-hidden overflow-y-auto";function d(...t){return t.flat(5).filter(e=>typeof e=="string"&&!/^;|;$/.test(e)).join(" ")}var js=0,Ri=Array.isArray;function s(t,e,r,n,a,o){e||(e={});var i,c,u=e;"ref"in e&&(i=e.ref,delete e.ref);var g={type:t,props:u,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--js,__i:-1,__u:0,__source:a,__self:o};if(typeof t=="function"&&(i=t.defaultProps))for(c in i)u[c]===void 0&&(u[c]=i[c]);return v.vnode&&v.vnode(g),g}var B="fill-current size-[1.5rem]",Yn=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Alphabetic"}),s("path",{d:"M3.0805,8.3675,2.31,10.878c-.028.091-.0705.122-.154.122H.756c-.0845,0-.1125-.0455-.1-.15L3.5425,1.9285A2.51436,2.51436,0,0,0,3.669,1.107c0-.0615.028-.107.084-.107H5.7c.0705,0,.084.015.1.0915L9.0355,10.863c.0145.0915,0,.137-.084.137H7.381a.14051.14051,0,0,1-.1405-.0915L6.428,8.3675Zm2.9-1.6595c-.294-1.005-.9525-3.12-1.233-4.1855h-.014c-.224,1.02-.785,2.8-1.2045,4.1855Z"}),s("path",{d:"M9.613,17c-.0565,0-.1125-.015-.1125-.122v-1.02a.346.346,0,0,1,.042-.1825l4.861-7.032H9.711c-.0705,0-.1125-.0145-.1-.106l.21-1.4155C9.835,7.031,9.877,7,9.9465,7H16.463c.069,0,.084.031.084.0915v1.096a.3265.3265,0,0,1-.0705.213L11.7,15.3415h5.015c.069,0,.1.0455.069.137l-.2235,1.4c-.0135.091-.042.122-.126.122Z"})]}),jn=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Add"}),s("path",{d:"M14.5,8H10V3.5A.5.5,0,0,0,9.5,3h-1a.5.5,0,0,0-.5.5V8H3.5a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5H8v4.5a.5.5,0,0,0,.5.5h1a.5.5,0,0,0,.5-.5V10h4.5a.5.5,0,0,0,.5-.5v-1A.5.5,0,0,0,14.5,8Z"})]}),Zn=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Ranking"}),s("path",{d:"M14.259,7.6a2.3635,2.3635,0,0,0,1.6805-2.2255c0-1.521-1.0885-2.625-3.0895-2.625a5.365,5.365,0,0,0-2.561.6245.13949.13949,0,0,0-.064.144V4.542c0,.064.0165.0795.0965.05A4.33146,4.33146,0,0,1,12.626,3.95c1.4085,0,2,.688,2,1.584,0,1.0245-.8645,1.569-2.273,1.569h-.591c-.08,0-.096.05-.096.112V8.223c0,.064.032.096.112.096h.672c1.5845,0,2.641.5765,2.641,1.857,0,1.009-.704,1.8725-2.4325,1.8725a7.11785,7.11785,0,0,1-2.497-.654,3.79252,3.79252,0,0,0,.3305-1.54,3.01569,3.01569,0,0,0-3.224-3.192A6.30249,6.30249,0,0,0,4.5,7.392V1.625a.375.375,0,0,0-.375-.375H3.379a.3735.3735,0,0,0-.3.15L1.65,2.545a.747.747,0,0,0-.15.45v.124a.375.375,0,0,0,.375.375H3v7.125a.375.375,0,0,0,.375.375h.75a.375.375,0,0,0,.375-.375V8.7775a5.26947,5.26947,0,0,1,2.516-.754c1.2735,0,2.05.6225,2.05,1.8765,0,.9625-.4695,1.8975-1.9,3.4775A24.53582,24.53582,0,0,1,4.6,15.897a.25.25,0,0,0-.0845.2095v.709c0,.161.106.1845.169.1845H10.575c.1185,0,.156-.0425.2-.15l.235-.9755a.135.135,0,0,0-.0175-.1215.17851.17851,0,0,0-.15-.05H8.669c-1.209,0-1.457,0-1.932.031a15.25015,15.25015,0,0,0,1.859-2.0125c.3735-.4585.6955-.874.9695-1.275a8.3231,8.3231,0,0,0,3.1085.805c2.161,0,3.7775-1.104,3.7775-3.073A2.611,2.611,0,0,0,14.259,7.6Z"})]});var Jn=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Sun"}),s("path",{d:"m9,5.05c2.18152,0,3.95,1.76848,3.95,3.95s-1.76848,3.95-3.95,3.95-3.95-1.76848-3.95-3.95,1.76848-3.95,3.95-3.95Zm-.9-4.8v2.5c0,.13807.11193.25.25.25h1.3c.13807,0,.25-.11193.25-.25V.25c0-.13807-.11193-.25-.25-.25h-1.3c-.13807,0-.25.11193-.25.25Zm0,15v2.5c0,.13807.11193.25.25.25h1.3c.13807,0,.25-.11193.25-.25v-2.5c0-.13807-.11193-.25-.25-.25h-1.3c-.13807,0-.25.11193-.25.25ZM0,8.35v1.3c0,.13807.11193.25.25.25h2.5c.13807,0,.25-.11193.25-.25v-1.3c0-.13807-.11193-.25-.25-.25H.25c-.13807,0-.25.11193-.25.25Zm15,0v1.3c0,.13807.11193.25.25.25h2.5c.13807,0,.25-.11193.25-.25v-1.3c0-.13807-.11193-.25-.25-.25h-2.5c-.13807,0-.25.11193-.25.25Zm-2.01021-4.23913l.91924.91924c.09763.09763.25592.09763.35355,0l1.76777-1.76777c.09763-.09763.09763-.25592,0-.35355l-.91924-.91924c-.09763-.09763-.25592-.09763-.35355,0l-1.76777,1.76777c-.09763.09763-.09763.25592,0,.35355ZM1.98978,15.11121l.91924.91924c.09763.09763.25592.09763.35355,0l1.76777-1.76777c.09763-.09763.09763-.25592,0-.35355l-.91924-.91924c-.09763-.09763-.25592-.09763-.35355,0l-1.76777,1.76777c-.09763.09763-.09763.25592,0,.35355Zm-.01031-11.8587l1.76777,1.76777c.09763.09763.25592.09763.35355,0l.91924-.91924c.09763-.09763.09763-.25592,0-.35355l-1.76777-1.76777c-.09763-.09763-.25592-.09763-.35355,0l-.91924.91924c-.09763.09763-.09763.25592,0,.35355Zm10.9902,10.99001l1.76777,1.76777c.09763.09763.25592.09763.35355,0l.91924-.91924c.09763-.09763.09763-.25592,0-.35355l-1.76777-1.76777c-.09763-.09763-.25592-.09763-.35355,0l-.91924.91924c-.09763.09763-.09763.25592,0,.35355Z"})]}),qn=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Moon"}),s("path",{d:"M9,1a8,8,0,1,0,8,8A8,8,0,0,0,9,1Zm.5,14.982c-.165.0115-.332.018-.5.018A7,7,0,0,1,9,2c.168,0,.335.0065.5.018A11,11,0,0,0,9.5,15.982Z"})]}),Xn=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Menu"}),s("rect",{height:"2",rx:"0.5",width:"14",x:"2",y:"8"}),s("rect",{height:"2",rx:"0.5",width:"14",x:"2",y:"3"}),s("rect",{height:"2",rx:"0.5",width:"14",x:"2",y:"13"})]}),Yt=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Close"}),s("path",{d:"M13.2425,3.343,9,7.586,4.7575,3.343a.5.5,0,0,0-.707,0L3.343,4.05a.5.5,0,0,0,0,.707L7.586,9,3.343,13.2425a.5.5,0,0,0,0,.707l.707.7075a.5.5,0,0,0,.707,0L9,10.414l4.2425,4.243a.5.5,0,0,0,.707,0l.7075-.707a.5.5,0,0,0,0-.707L10.414,9l4.243-4.2425a.5.5,0,0,0,0-.707L13.95,3.343a.5.5,0,0,0-.70711-.00039Z"})]});var Qn=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Filter Edit"}),s("path",{d:"M17.8925,10.8605,16.14,9.1075A.36952.36952,0,0,0,15.8765,9H15.865a.41651.41651,0,0,0-.282.1235l-5.411,5.411a.304.304,0,0,0-.0765.128l-1.0135,3c-.0345.1145.1395.2585.238.2585a.15858.15858,0,0,0,.0185,0c.084-.0195,2.5615-.882,3-1.014a.3.3,0,0,0,.126-.0755l5.412-5.4145A.41749.41749,0,0,0,18,11.15.37152.37152,0,0,0,17.8925,10.8605Zm-5.8,5.4815c-.657.1975-1.65.6145-2.215.784l.78-2.2155Z"}),s("path",{d:"M15.473,1H1.527a.5.5,0,0,0-.3935.8085L7,9.2945V15a.496.496,0,0,0,.84.4125L9.83,13.336a.61.61,0,0,0,.17-.4225V9.2945l5.8665-7.486A.5.5,0,0,0,15.473,1Z"})]});var ea=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Boolean"}),s("path",{d:"M12,4.25a4.75,4.75,0,0,1,0,9.5H6a4.75,4.75,0,0,1,0-9.5ZM12,3H6A6,6,0,0,0,6,15h6A6,6,0,0,0,12,3Zm0,3A3,3,0,1,1,9,9,3,3,0,0,1,12,6Z"})]});var tt=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Reset Selection"}),s("path",{d:"m2,9h1v3h-1v-3Zm1,6v-1h-1v1.5555c0,.24549.19901.4445.4445.4445h1.5555v-1h-1Zm3,1h3v-1h-3v1Zm9-7h1v-3h-1v3Zm.5555-7h-1.5555v1h1v1h1v-1.5555c0-.24549-.19901-.4445-.4445-.4445Zm-6.5555,1h3v-1h-3v1ZM1.10295,1.97065l14.92632,14.92632c.15973.15973.41869.15972.57841,0l.28956-.28956c.15972-.15972.15973-.41869,0-.57841L1.97092,1.10268c-.15972-.15972-.41869-.15972-.57841,0l-.28956.28956c-.15972.15972-.15972.41869,0,.57841Zm14.89705,11.74835v-2.719h-1v1.719l1,1Zm-3.282,1.281h-1.718v1h2.718l-1-1ZM2,4.281v2.719h1v-1.719l-1-1Zm3.281-1.281h1.719v-1h-2.719l1,1Z"})]});var jt=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Sort Down"}),s("rect",{id:"Canvas",fill:"#ff13dc",opacity:"0",width:"18",height:"18"}),s("rect",{height:"2",rx:"0.5",width:"6",x:"1",y:"12"}),s("rect",{height:"2",rx:"0.5",width:"8",x:"1",y:"8"}),s("rect",{height:"2",rx:"0.5",width:"10",x:"1",y:"4"}),s("path",{d:"M16,12H14.9965V4.5a.494.494,0,0,0-.488-.5L14.503,4h-.496a.5.5,0,0,0-.5.5L13.5035,12H12.5a.25.25,0,0,0-.25.25.245.245,0,0,0,.0735.175l1.7685,2.0165a.25.25,0,0,0,.316,0l1.7685-2.0165a.245.245,0,0,0,.0735-.175A.25.25,0,0,0,16,12Z"})]}),Zt=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Sort Up"}),s("rect",{height:"2",rx:"0.5",width:"6",x:"1",y:"4"}),s("rect",{height:"2",rx:"0.5",width:"8",x:"1",y:"8"}),s("rect",{height:"2",rx:"0.5",width:"10",x:"1",y:"12"}),s("path",{d:"M15.99951,6H14.99634v7.5a.49378.49378,0,0,1-.49317.5h-.49633a.5.5,0,0,1-.5-.49951L13.50366,6H12.50049A.24984.24984,0,0,1,12.25,5.74823a.24439.24439,0,0,1,.07373-.175L14.0918,3.5564a.25007.25007,0,0,1,.3164,0l1.76807,2.01684a.24439.24439,0,0,1,.07373.175A.24984.24984,0,0,1,15.99951,6Z"})]});var ta=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",class:B,children:[s("title",{children:"Languish Language Rankings"}),s("path",{d:"M16.5465,3.0305l-4.07,5.687L10.45,4.6605a.25.25,0,0,0-.4585.0265l-2.725,7.496L5.226,10.1425a.25.25,0,0,0-.337-.0155L1.09,13.2895a.25.25,0,0,0-.09.192v2.094a.25.25,0,0,0,.4145.188l3.524-3.0785,2.854,2.854a.25.25,0,0,0,.4115-.0915l2.274-6.255L12,12.2405a.25.25,0,0,0,.4285.0315L16.955,5.808A.25.25,0,0,0,17,5.665V3.176a.25.25,0,0,0-.4535-.1455Z"})]});var ra=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 16 480 384",class:B,children:[s("title",{children:"Github"}),s("path",{d:"M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"})]}),na=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 32 512 448",class:B,children:[s("title",{children:"Reddit"}),s("path",{d:"M373 138.6c-25.2 0-46.3-17.5-51.9-41l0 0c-30.6 4.3-54.2 30.7-54.2 62.4l0 .2c47.4 1.8 90.6 15.1 124.9 36.3c12.6-9.7 28.4-15.5 45.5-15.5c41.3 0 74.7 33.4 74.7 74.7c0 29.8-17.4 55.5-42.7 67.5c-2.4 86.8-97 156.6-213.2 156.6S45.5 410.1 43 323.4C17.6 311.5 0 285.7 0 255.7c0-41.3 33.4-74.7 74.7-74.7c17.2 0 33 5.8 45.7 15.6c34-21.1 76.8-34.4 123.7-36.4l0-.3c0-44.3 33.7-80.9 76.8-85.5C325.8 50.2 347.2 32 373 32c29.4 0 53.3 23.9 53.3 53.3s-23.9 53.3-53.3 53.3zM157.5 255.3c-20.9 0-38.9 20.8-40.2 47.9s17.1 38.1 38 38.1s36.6-9.8 37.8-36.9s-14.7-49.1-35.7-49.1zM395 303.1c-1.2-27.1-19.2-47.9-40.2-47.9s-36.9 22-35.7 49.1c1.2 27.1 16.9 36.9 37.8 36.9s39.3-11 38-38.1zm-60.1 70.8c1.5-3.6-1-7.7-4.9-8.1c-23-2.3-47.9-3.6-73.8-3.6s-50.8 1.3-73.8 3.6c-3.9 .4-6.4 4.5-4.9 8.1c12.9 30.8 43.3 52.4 78.7 52.4s65.8-21.6 78.7-52.4z"})]}),aa=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 413",class:B,children:[s("title",{children:"Wikipedia"}),s("path",{d:"M640 51.2l-.3 12.2c-28.1 .8-45 15.8-55.8 40.3-25 57.8-103.3 240-155.3 358.6H415l-81.9-193.1c-32.5 63.6-68.3 130-99.2 193.1-.3 .3-15 0-15-.3C172 352.3 122.8 243.4 75.8 133.4 64.4 106.7 26.4 63.4 .2 63.7c0-3.1-.3-10-.3-14.2h161.9v13.9c-19.2 1.1-52.8 13.3-43.3 34.2 21.9 49.7 103.6 240.3 125.6 288.6 15-29.7 57.8-109.2 75.3-142.8-13.9-28.3-58.6-133.9-72.8-160-9.7-17.8-36.1-19.4-55.8-19.7V49.8l142.5 .3v13.1c-19.4 .6-38.1 7.8-29.4 26.1 18.9 40 30.6 68.1 48.1 104.7 5.6-10.8 34.7-69.4 48.1-100.8 8.9-20.6-3.9-28.6-38.6-29.4 .3-3.6 0-10.3 .3-13.6 44.4-.3 111.1-.3 123.1-.6v13.6c-22.5 .8-45.8 12.8-58.1 31.7l-59.2 122.8c6.4 16.1 63.3 142.8 69.2 156.7L559.2 91.8c-8.6-23.1-36.4-28.1-47.2-28.3V49.6l127.8 1.1 .2 .5z"})]}),sa=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"3 32 379 448",class:B,children:[s("title",{children:"Stack Overflow"}),s("path",{d:"M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"})]}),Jr=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:B,children:[s("title",{children:"External Link"}),s("path",{d:"M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"})]});var Jt=typeof localStorage>"u"?void 0:localStorage,oa=typeof document>"u"?void 0:document,S=t=>new qr(t),Xr=()=>(oa?oa.body.dataset.page:void 0)??"_any_page_",Ge=()=>S(Xr()),qr=class{constructor(e){this.page=e}update(e,r){let n=this.fullKey(e);Jt?.setItem(n,JSON.stringify(r))}load(e){let r=this.fullKey(e),n=Jt?.getItem(r);if(n)try{return JSON.parse(n)}catch(a){console.error("Failed to load data from localStorage",{key:r,jsonString:n,e:a}),Jt?.removeItem(r)}}remove(e){Jt?.removeItem(this.fullKey(e))}fullKey(e){return`plangs-${this.page}-${e}`}};function ca({action:t,disabled:e,initial:r}){if(t==="lights")return N(()=>ut.initial(e));if(t==="hamburger")return N(()=>gt.initial(e));if(t==="facets")return N(()=>mt.initial(e));if(t==="allAny")return N(()=>Qr.initial(r,e));if(t==="clearFacets")return N(()=>en.initial(e));if(t==="gridOrder")return N(()=>tn.initial(e));console.error(`Unknown action: ${t}`)}var Ne=class extends ee{get disabled(){return this.data.disabled}set disabled(e){this.data.disabled=e}get value(){let{disabled:e,...r}=this.data;return r}get hidden(){return!1}get hilight(){return!1}},qt=S("_any_page_"),ut=class t extends Ne{static initial(e=!1){let r=qt.load("theme");return new t({mode:r==="light"?"light":"dark",disabled:e})}get isDark(){return this.data.mode==="dark"}get icon(){return this.isDark?Jn:qn}doAction(){this.data.mode=this.isDark?"light":"dark"}runEffects(){document.body.classList.toggle("dark",this.isDark),qt.update("theme",this.data.mode)}},gt=class t extends Ne{static initial(e=!1){let r=qt.load("hamburger-menu");return new t({mode:r==="hide"?"hide":"show",disabled:e})}get hilight(){return!this.hide}get hide(){return this.data.mode==="hide"}get icon(){return Xn}doAction(){this.data.mode=this.hide?"show":"hide"}runEffects(){we("mainNav")?.classList.toggle("hidden",this.hide),qt.update("hamburger-menu",this.data.mode)}},mt=class t extends Ne{static initial(e=!1){let r=Ge().load("facets-browser");return new t({mode:r==="show"?"show":"hide",disabled:e})}get hilight(){return this.show}get show(){return this.data.mode==="show"}get icon(){return Qn}doAction(){this.data.mode=this.show?"hide":"show"}runEffects(){let e=X("facetsMain");e.length>0&&e[0].classList.toggle("hidden",!this.show),Ge().update("facets-browser",this.data.mode)}},Qr=class t extends Ne{static initial(e,r=!1){return new t({mode:e==="all"?"all":"any",disabled:r})}get mode(){return this.data.mode}get icon(){let e=this.data.disabled,r=e||this.mode==="any",n=e||this.mode==="all";return s("span",{class:d("px-1","flex flex-row gap-1","items-center","align-middle"),children:[s("span",{class:d(r&&"opacity-50","whitespace-nowrap"),children:"All"}),s("span",{class:d("inline-block","mt-[1px] px-1","scale-85",this.mode==="all"&&"rotate-180",!e&&et),children:ea}),s("span",{class:d(n&&"opacity-50","whitespace-nowrap"),children:"Any"})]})}doAction(){this.data.mode=this.mode==="all"?"any":"all"}runEffects(){}},en=class t extends Ne{static initial(e=!1){return new t({disabled:e,mode:""})}doAction(){this.data.mode=""}doToggleMode(e){this.data.mode=e,this.dispatch()}get icon(){return tt}get hidden(){return this.data.mode===""}runEffects(){for(let e of X("facetsMain"))e.state?.doResetAll()}},tn=class t extends Ne{static initial(e=!1){return new t({disabled:e,mode:"alpha"})}get mode(){return this.data.mode}get icon(){return this.mode==="alpha"?Yn:Zn}doAction(){this.data.mode=this.mode==="alpha"?"ranking":"alpha"}runEffects(){let e=we("vertexGrid");if(!e)return;let r=[...X("vertexThumbn")].sort(Js[this.mode]);for(let n of r)e.appendChild(n)}},Zs=Number.MAX_SAFE_INTEGER,ia=t=>{let e=lt(t,"vertex-ranking");return e?Number.parseInt(e):Zs},la=t=>t.dataset.vertexKey??"",Js={ranking:(t,e)=>ia(t)-ia(e),alpha:(t,e)=>la(t).localeCompare(la(e))};function _e({action:t,disabled:e,initial:r}){let n=ca({action:t,disabled:e,initial:r}),a=zt(n);return j(()=>{if(!n)return;let i=e===void 0?!1:e;i!==n.disabled&&(n.disabled=i,n.dispatch())},[e]),s("div",{ref:a,tabIndex:e?void 0:0,...Y(()=>{!n||n.disabled||(n.doAction(),n.runEffects(),n.dispatch(),kn(a.current,Sn("icon-button",n.value)))}),class:d("group",e?"cursor-auto opacity-50":"cursor-pointer","border-1 border-dotted",n?.hilight?"border-primary":"border-transparent",t!=="allAny"&&Ut,n?.hidden&&"invisible"),children:n?.icon})}function pa(){for(let t of X("iconButton"))if(t.dataset.action){let e=t.dataset.action;Ce(s(_e,{action:e}),t)}else console.error("Missing prop for IconButton component.")}function rt({children:t,title:e,class:r}){return s("div",{...e?{title:e}:{},class:d("max-w-full","mr-4 mb-3 px-2","outline-1 outline-primary/50","rounded-tl-lg rounded-br-lg","bg-secondary/75 text-foreground/85","truncate",r),children:t})}function da(t){let e=Object.entries(t).filter(([,r])=>typeof r=="boolean"?r:typeof r=="string"?!!r:typeof r=="number"?r:!1).map(([r,n])=>[Ue(r),`${n}`]);return Object.fromEntries(e)}var ua=new Set(["plangs","tools","apps","libraries","subsystems","communities","learning"]);var ga="/images/placeholder.png";function ma({detail:t,onlyImg:e,class:r}){return s("div",{vocab:"https://schema.org/",typeof:t.schemaType,...da({"vertex-key":t.key,"vertex-name":t.vertexName,"vertex-ranking":t.ranking}),class:d(ae("vertexThumbn"),"group",!e&&"cursor-pointer",r),children:[s("meta",{property:"identifier",content:t.key}),!e&&s("div",{class:"truncate pb-0.5 text-center",children:s("a",{property:"name",class:"prefetch text-foreground underline group-hover:text-primary",href:t.href,children:t.name})}),s("div",{class:d("relative","aspect-square overflow-hidden","flex items-center justify-center","bg-thumbnails","ring-1 ring-primary/50","shadow-background shadow-lg group-hover:shadow-md group-hover:shadow-primary"),children:[s("img",{loading:"lazy",alt:t.name,"data-src":t.thumbUrl??"",src:e?t.thumbUrl??ga:ga,class:d(ae("vertexThumbnImg"),"max-h-full max-w-full p-1"),width:128,height:128}),"ranking"in t&&t.ranking&&s("div",{title:`Languish Ranking: ${t.ranking}`,class:d("absolute","-bottom-1 right-0","p-1 text-primary text-xs","rounded opacity-50",Fe,"hover:opacity-100"),children:t.ranking})]})]})}function ha({detail:t,open:e,page:r}){let n=Q(null),a=ua.has(r),o=Ge(),i=()=>{let f=n.current?.querySelector("details");f&&o.update("vertex-detail-open",!f.open)};j(()=>{if(!n.current)return;n.current.querySelector("h2")?.scrollIntoView({behavior:"smooth",block:"end"});let f=n.current.querySelectorAll(`.${ae("externalLink")}`);if(f.length!==0)for(let[V,R]of f.entries())R.classList.add("scale-0"),setTimeout(()=>R.classList.remove("scale-0"),50+(V+1)*50)});let c=t&&s("div",{class:"flex flex-row flex-nowrap items-center gap-2 align-middle",children:[k(t.urlHome,f=>f&&s(nt,{href:f,icon:Jr})),k(t.urlLanguish,f=>f&&s(nt,{href:f,icon:ta,title:`#${t.ranking} on Languish`})),k(t.urlGithub,f=>f&&s(nt,{href:f,icon:ra})),k(t.urlWikipedia,f=>f&&s(nt,{href:f,icon:aa})),k(t.urlStackov,f=>f&&s(nt,{href:f,icon:sa})),k(t.urlReddit,f=>f&&s(nt,{href:f,icon:na}))]}),u=s("header",{class:"flex flex-wrap",children:[s("h2",{class:d("m-0!","truncate"),children:t?s("a",{class:"prefetch pr-2",href:t.href,children:t.name}):"Information"}),s("div",{class:"flex-1"}),c]}),g=t?s("div",{class:d("hidden py-4 sm:block landscape-short:hidden"),children:[!a&&t.thumbUrl&&s(ma,{detail:t,onlyImg:!0,class:"float-right m-1 ml-6 size-24"}),s("div",{class:"hyphens-auto text-justify",children:a?t.shortDesc:t.description})]}):s("p",{children:[s("strong",{class:"text-primary",children:"Click"})," a thumbnail for more info."]}),y=0,p=t&&t.relations.length>0&&s("details",{class:d(a&&"hidden sm:block landscape-short:hidden","overflow-hidden"),open:e,children:[s("summary",{class:"cursor-pointer pb-4 text-primary",...Y(i),children:"Details"}),s("div",{class:d("flex flex-col"),children:[t.general.length>0&&s(fa,{title:"General",class:d(y++%2===0?"bg-primary/6":"bg-primary/12"),children:t.general.map(f=>s(rt,{title:f.title,children:f.kind==="text"?s("span",{children:f.value}):s("a",{href:f.href,class:d("inline-flex"),children:[s("span",{children:f.value}),s("span",{class:"scale-50",children:Jr})]})},f))}),t.relations.map(([f,V])=>s(fa,{title:f,class:d(y++%2===0?"bg-primary/6":"bg-primary/12"),children:V.map(R=>s(rt,{children:s("a",{href:R.href,children:R.name})},R.name))},f))]})]});return s("div",{ref:n,class:d(Ee,d(dt,"max-w-[unset]"),a&&"px-2 pt-1 sm:p-4",a&&"border-primary/50 landscape-narrow:border-t-1"),children:[u,g,p]})}function nt({href:t,icon:e,title:r}){return s("a",{...r?{title:r}:{},href:t,class:d(ae("externalLink"),"inline-block aspect-square","transition-transform","p-1"),children:s("div",{class:d("inline-block",Ut),children:e})})}function fa({title:t,children:e,class:r}){return s("div",{class:d("hover:bg-hiliteb/10",r),children:[s("header",{class:"mb-2 p-2 text-foreground text-sm uppercase",children:t}),s("div",{class:"ml-2 flex flex-row flex-wrap",children:e})]},t)}function rn(t){let e=Xr(),r=Ge();for(let n of X("vertexInfo")){let a=t?.detail,o=n.dataset.open==="true";a?(r.update("vertex-detail",a),r.update("vertex-detail-open",o)):(o=r.load("vertex-detail-open")??o??!0,a=r.load("vertex-detail")),Ce(s(ha,{detail:a,page:e,open:o}),n)}}function Ve(t,e,r=(a,o)=>a===o,n){for(let a of e){let o=t.find(i=>r(i,a));o?n?.(o,a):t.push(a)}}var ie=class t{constructor(e){this.array=Array.isArray(e)?e:e?[...e]:void 0}filter(e){return this.array?this.array.filter(e):[]}map(e){return new t(this.array?this.array.map(e):[])}reduce(e,r){return this.array?this.array.reduce(e,r):r}sort(e){return this.array?[...this.array].sort(e):[]}join(e){return this.array?this.array.join(e):""}includes(e){return this.array?this.array.includes(e):!1}some(e){return this.array?this.array.some(e):!1}find(e){return this.array?.find(e)}tap(e){if(this.array&&this.array.length>0)return e(this.array)}get(e){return this.array?this.array[e]:void 0}get isEmpty(){return this.array?this.array.length===0:!0}get size(){return this.array?this.array.length:0}get length(){return this.size}get existing(){return this.filter(e=>e!=null&&(typeof e!="string"||e.length>0))}get reverse(){return new t(this.array?[...this.array].reverse():void 0)}get first(){return this.array&&this.array.length>0?this.array[0]:void 0}get last(){return this.array&&this.array.length>0?this.array[this.array.length-1]:void 0}[Symbol.iterator](){return this.array?this.array[Symbol.iterator]():[].values()}};var Xt=class{constructor(e){this.key=e;this.data={}}merge(e){return Object.assign(this.data,e),this}clearData(){let e=this.data;for(let r in Object.keys(e))delete e[r];return this}get plainKey(){return this.key.replace(/^[a-z]+\+/,"")}get classifier(){let e=this.plainKey;return/^[a-z]/i.test(e)?e[0].toLowerCase():Xs}toJSON(){return this.data}toString(){return this.key}},Xs="-",H=class{constructor(e,r,n){this.name=e;this.kind=r;this.factory=n;this.map=new Map}set(e,r={}){let n=this.factory(e).merge(r);return this.map.set(e,n),n}get(e){return this.map.get(e)}has(e){return this.map.has(e)}delete(e){return this.map.delete(e)}clear(){this.map.clear()}get keys(){return this.map.keys()}get values(){return this.map.values()}get entries(){return this.map.entries()}toJSON(){return Object.fromEntries([...this.map].map(([e,r])=>[e,r.toJSON()]))}},x=class{constructor(e,r,n,a){this.fromSource=e;this.toSource=r;this.descDirect=n;this.descInverse=a}#e=new Map;#t=new Map;add(e,...r){let n=this.#e.get(e);n||this.#e.set(e,n=new Set);for(let a of r){n.add(a);let o=this.#t.get(a);o||this.#t.set(a,o=new Set),o.add(e)}return this}get(e,r){return[this.fromSource.get(e),this.toSource.get(r)]}addGet(e,r){return this.add(e,r).get(e,r)}delete(e,r){let n=this.#e.get(e)?.delete(r)??!1,a=this.#t.get(r)?.delete(e)??!1;return n||a}forward(e){return this.#e.get(e)??new Set}backward(e){return this.#t.get(e)??new Set}has(e,r){return this.#e.get(e)?.has(r)??!1}get entriesForward(){return[...this.#e].map(([e,r])=>[e,r])}get entriesBackward(){return[...this.#t].map(([e,r])=>[e,r])}get vertices(){let e=[];for(let[r,n]of this.entriesForward){let a=this.fromSource.get(r);for(let o of n)e.push([r,a,o,this.toSource.get(o)])}return e}get size(){let e=0;for(let r of this.#e.values())e+=r.size;return e}toJSON(){return Object.fromEntries(this.entriesForward.map(([e,r])=>[e,[...r]]))}},b=class{constructor(e,r){this.from=e;this.edges=r}get edgeDesc(){return this.edges.descDirect}get targetVertices(){return this.edges.toSource}add(...e){return this.edges.add(this.from.key,...e),this.from}maybeAdd(e){let r=e.filter(n=>this.edges.toSource.has(n));return this.add(...r)}remove(...e){for(let r of e)this.edges.delete(this.from.key,r);return this.from}has(e){return this.edges.has(this.from.key,e)}get keys(){return this.edges.forward(this.from.key)}get values(){return[...this.keys].map(e=>this.edges.toSource.get(e)).filter(e=>e)}get size(){return this.keys.size}toString(){return`RelFrom(${this.from}, ${this.edgeDesc})`}},w=class{constructor(e,r){this.to=e;this.edges=r}get edgeDesc(){return this.edges.descInverse}get targetVertices(){return this.edges.fromSource}add(...e){for(let r of e)this.edges.add(r,this.to.key);return this.to}maybeAdd(e){let r=e.filter(n=>this.edges.fromSource.has(n));return this.add(...r)}remove(...e){for(let r of e)this.edges.delete(r,this.to.key);return this.to}has(e){return this.edges.has(e,this.to.key)}get keys(){return this.edges.backward(this.to.key)}get values(){return[...this.keys].map(e=>this.edges.fromSource.get(e)).filter(e=>e)}get size(){return this.keys.size}toString(){return`RelTo(${this.to}, ${this.edgeDesc})`}};var ya=t=>t>=1940&&t<=2100,va=t=>t>=1&&t<=12,Qs=t=>t>=1&&t<=31;function xa(t){if(!t||t.length<4||t.length>10)return;let[e,r,n]=t.split(/\D/,3),[a,o,i]=[Number.parseInt(e),Number.parseInt(r),Number.parseInt(n)];if(ya(a))return va(o)?Qs(i)?`${a}-${`${o}`.padStart(2,"0")}-${`${i}`.padStart(2,"0")}`:`${a}-${`${o}`.padStart(2,"0")}`:`${a}`}function nn(t){if(!t||t.length<4||t.length>10)return;let e=Number.parseInt(t.split(/\D/,3)[0],10);if(ya(e))return e}function an(t){if(!t||t.length<4||t.length>10)return;let e=Number.parseInt(t.split(/\D/,3)[1],10);if(va(e))return e}function ba(t,e){return t===e?0:t?e?t.localeCompare(e):1:-1}function sn(t,e){return t?t>=e:!1}function be(t,e){let r=new Date;return e==="y"?r.setFullYear(r.getFullYear()-t):r.setMonth(r.getMonth()-t),`${r.getFullYear()}-${`${r.getMonth()+1}`.padStart(2,"0")}`}var on=class{constructor(e){this.release=e}get version(){return this.release.version}get date(){return this.release.date}get year(){return nn(this.release.date)}get month(){return an(this.release.date)}get yearMonth(){let{year:e,month:r}=this;return e&&r?`${r.toString().padStart(2,"0")}/${e}`:e}isRecent(e){return sn(this.date,e)}compareDate(e){return ba(this.date,e.date)}},Ae=class{constructor(e){this.vertex=e}get all(){return new ie(this.vertex.data.releases).map(e=>new on(e))}get last(){let e=this.all;if(e.size!==0)return e.size===1?e.get(0):e.sort((r,n)=>n.compareDate(r))[0]}},Qt=class{constructor(e,r){this.key=e;this.vertex=r}get value(){return this.vertex.data[this.key]}get year(){return nn(this.value)}get strYear(){return this.value?.slice(0,4)}get month(){return an(this.value)}isRecent(e){return sn(this.value,e)}},Ke=class{constructor(e){this.vertex=e}get stars(){return this.vertex.data.githubStars??-1}get path(){return this.vertex.data.extGithubPath}get url(){return this.path?`https://github.com/${this.path}`:void 0}};var eo={app:"SoftwareApplication",author:"Person",bundle:"Collection",community:"Organization",learning:"CreativeWork",library:"SoftwareLibrary",license:"CreativeWork",paradigm:"CreativeWork",plang:"ComputerLanguage",platform:"CreativeWork",post:"BlogPosting",subsystem:"SoftwareApplication",tag:"DefinedTerm",tool:"SoftwareApplication",typeSystem:"CreativeWork"},$=class extends Xt{constructor(r,n){super(n);this.graph=r}get schemaType(){return eo[this.vertexName]}get detail(){let r=[],n=this;for(let o of n.relations.values()){let i=o.values.filter(c=>c.key!==n.key);i.length!==0&&r.push([o.edgeDesc,i.map(({name:c,href:u})=>({name:c,href:u}))])}let a=[];n instanceof ue&&(Xe(n.created.year,o=>o&&a.push({kind:"text",value:`Appeared ${n.created.year}`})),Xe(n.isPopular,o=>o&&a.push({kind:"text",value:"Popular",title:"Languish's Rank <= #25 or popular on Github."})),Xe(n.isTranspiler,o=>o&&a.push({kind:"text",value:"Transpiler",title:"a.k.a. Source-to-Source Compiler."})),Xe(n.releases.last,o=>o&&a.push({kind:"text",value:`Released ${o.yearMonth??o.version}`,title:"Last Release we know about."})),Xe([n.urlLanguish,n.ranking&&`#${n.ranking} on Languish`],([o,i])=>o&&i&&a.push({kind:"link",href:o,value:i,title:i})));for(let o of n.links??[])a.push({kind:"link",href:o.url,value:o.title??"Link"});return{description:n.description,href:n.href,key:n.key,name:n.name,ranking:n.ranking,shortDesc:n.shortDesc,thumbUrl:n.thumbUrl,urlGithub:n.urlGithub,urlHome:n.urlHome,urlReddit:n.urlReddit,urlStackov:n.urlStackov,urlWikipedia:n.urlWikipedia,urlLanguish:n.urlLanguish,vertexDesc:n.vertexDesc,vertexKind:n.vertexKind,vertexName:n.vertexName,schemaType:n.schemaType,general:a,relations:r}}get href(){return this.vertexName==="plang"?`/${this.plainKey}`:this.vertexName==="post"?`/blog/${this.plainKey}`:`/${this.vertexName.toLowerCase()}/${this.plainKey}`}get ranking(){}get name(){return this.data.name?this.data.name:this.plainKey}#e;get lcName(){return this.#e||(this.#e=this.name.toLowerCase()),this.#e}get created(){return new Qt("created",this)}get description(){return this.data.description||this.name}get shortDesc(){if(this.data.shortDesc)return this.data.shortDesc;let r=this.description;return r.length>100?`${r.slice(0,80)} ...`:r}get urlHome(){return this.data.extHomeURL}get urlGithub(){return"github"in this?this.github.url:void 0}get urlStackov(){return this.data.stackovTags?`https://stackoverflow.com/questions/tagged/${this.data.stackovTags.join("+")}`:void 0}get urlReddit(){return this.data.extRedditPath?`https://reddit.com/r/${this.data.extRedditPath}`:void 0}get urlWikipedia(){return this.data.extWikipediaPath?`https://en.wikipedia.org/wiki/${this.data.extWikipediaPath}`:void 0}get urlLanguish(){if(!(!(this instanceof ue)||!this.data.languishRanking))return`https://tjpalmer.github.io/languish/#names=${encodeURIComponent(this.name.toLowerCase())}`}get links(){return new ie(this.data.links)}get images(){return new ie(this.data.images)}get keywords(){return new ie(this.data.keywords)}get keywordsRegexp(){let{keywords:r}=this.data;if(!r)return;let n=r.map(a=>a.replaceAll(/[- ]/g,"\\s*.?\\s*"));return new RegExp(`\\b(${n.join("|")})\\b`,"i")}get thumbUrl(){return(this.images.find(({kind:r})=>r==="logo")??this.images.first)?.url}addImages(r){return Ve(this.data.images??=[],r,(n,a)=>n.url===a.url),this}addKeywords(r){return Ve(this.data.keywords??=[],r),this}addLinks(r){return Ve(this.data.links??=[],r,(n,a)=>n.url===a.url),this}addStackovTags(r){return Ve(this.data.stackovTags??=[],r),this}merge(r){let{keywords:n,images:a,links:o,stackovTags:i,...c}=r;return a&&this.addImages(a),n&&this.addKeywords(n),o&&this.addLinks(o),i&&this.addStackovTags(i),super.merge(c)}};var at=class t{constructor(){this.app=new H("app","app",e=>new ft(this,e));this.author=new H("author","author",e=>new ht(this,e));this.bundle=new H("bundle","bun",e=>new yt(this,e));this.community=new H("community","comm",e=>new vt(this,e));this.learning=new H("learning","learn",e=>new xt(this,e));this.library=new H("library","lib",e=>new bt(this,e));this.license=new H("license","lic",e=>new Le(this,e));this.paradigm=new H("paradigm","para",e=>new wt(this,e));this.plang=new H("plang","pl",e=>new ue(this,e));this.platform=new H("platform","plat",e=>new _t(this,e));this.post=new H("post","post",e=>new Rt(this,e));this.subsystem=new H("subsystem","sys",e=>new Ct(this,e));this.tag=new H("tag","tag",e=>new Vt(this,e));this.tool=new H("tool","tool",e=>new Pt(this,e));this.typeSystem=new H("typeSystem","tsys",e=>new Tt(this,e));this.vertices={app:this.app,author:this.author,bundle:this.bundle,community:this.community,learning:this.learning,library:this.library,license:this.license,paradigm:this.paradigm,plang:this.plang,platform:this.platform,post:this.post,subsystem:this.subsystem,tag:this.tag,tool:this.tool,typeSystem:this.typeSystem};this.edges={appRelPlatforms:new x(this.app,this.platform,"Platforms","Apps"),appRelWrittenWith:new x(this.app,this.plang,"Plangs","Apps"),authorRelCommunites:new x(this.author,this.community,"Communites","Members"),bundleRelPlangs:new x(this.bundle,this.plang,"Plangs","Bundles"),bundleRelTools:new x(this.bundle,this.tool,"Tools","Bundles"),communityRelApps:new x(this.community,this.app,"Apps","Communities"),communityRelLibraries:new x(this.community,this.library,"Libraries","Communities"),communityRelPlangs:new x(this.community,this.plang,"Plangs","Communities"),communityRelSubsystems:new x(this.community,this.subsystem,"Subsystems","Communities"),communityRelTools:new x(this.community,this.tool,"Tools","Communities"),learningRelApps:new x(this.learning,this.app,"Apps","Learning Resources"),learningRelCommunities:new x(this.learning,this.community,"Communities","Learning Resources"),learningRelLibraries:new x(this.learning,this.library,"Libraries","Learning Resources"),learningRelPlangs:new x(this.learning,this.plang,"Plangs","Learning Resources"),learningRelSubsystems:new x(this.learning,this.subsystem,"Subsystems","Learning Resources"),learningRelTools:new x(this.learning,this.tool,"Tools","Learning Resources"),libraryRelPlangs:new x(this.library,this.plang,"Plangs","Libraries"),libraryRelPlatforms:new x(this.library,this.platform,"Platforms","Libraries"),libraryRelWrittenWith:new x(this.library,this.plang,"Written With","Used for Libraries"),licenseRelApps:new x(this.license,this.app,"Apps","Licenses"),licenseRelLibraries:new x(this.license,this.library,"Libraries","Licenses"),licenseRelPlangs:new x(this.license,this.plang,"Plangs","Licenses"),licenseRelSubsystems:new x(this.license,this.subsystem,"Subsystems","Licenses"),licenseRelTools:new x(this.license,this.tool,"Tools","Licenses"),plangRelCompilesTo:new x(this.plang,this.plang,"Compiles To","Target Of"),plangRelDialectOf:new x(this.plang,this.plang,"Dialect of","Dialects"),plangRelImplements:new x(this.plang,this.plang,"Implements","Implemented By"),plangRelInfluencedBy:new x(this.plang,this.plang,"Influenced By","Influenced"),plangRelParadigms:new x(this.plang,this.paradigm,"Paradigms","Plangs"),plangRelPlatforms:new x(this.plang,this.platform,"Platforms","Plangs"),plangRelTools:new x(this.plang,this.tool,"Tools","Plangs"),plangRelTypeSystems:new x(this.plang,this.typeSystem,"Type Systems","Plangs"),plangRelWrittenWith:new x(this.plang,this.plang,"Written With","Used to Write"),postRelApps:new x(this.post,this.app,"Apps","Posts"),postRelAuthors:new x(this.post,this.author,"Authors","Posts"),postRelCommunities:new x(this.post,this.community,"Communities","Posts"),postRelLearning:new x(this.post,this.learning,"Learning Resources","Posts"),postRelLibraries:new x(this.post,this.library,"Libraries","Posts"),postRelPlangs:new x(this.post,this.plang,"Plangs","Posts"),postRelSubsystems:new x(this.post,this.subsystem,"Subsystems","Posts"),postRelTools:new x(this.post,this.tool,"Tools","Posts"),subsystemRelPlatforms:new x(this.subsystem,this.platform,"Platforms","Subsystems"),subsystemRelWrittenWith:new x(this.subsystem,this.plang,"Plangs","Subsystems"),tagRelApps:new x(this.tag,this.app,"Apps tagged","Tags"),tagRelCommunities:new x(this.tag,this.community,"Communities","Tags"),tagRelLearning:new x(this.tag,this.learning,"Learning Resources","Tags"),tagRelLibraries:new x(this.tag,this.library,"Libraries","Tags"),tagRelPlangs:new x(this.tag,this.plang,"Plangs","Tags"),tagRelSubsystems:new x(this.tag,this.subsystem,"Subsystems","Tags"),tagRelTools:new x(this.tag,this.tool,"Tools","Tags"),toolRelPlatforms:new x(this.tool,this.platform,"Platforms","Tools"),toolRelWrittenWith:new x(this.tool,this.plang,"Implemented With","Tool Plang")}}static relConfig(e,r){let n=t.vertexClass(e),{edgeName:a,direction:o}=n.relConfig[r];return{kind:"rel",edgeName:a,direction:o}}static propConfig(e,r){return{kind:"prop",vertexName:e,vertexProp:r}}static vertexClass(e){if(e==="app")return ft;if(e==="author")return ht;if(e==="bundle")return yt;if(e==="community")return vt;if(e==="learning")return xt;if(e==="library")return bt;if(e==="license")return Le;if(e==="paradigm")return wt;if(e==="plang")return ue;if(e==="platform")return _t;if(e==="post")return Rt;if(e==="subsystem")return Ct;if(e==="tag")return Vt;if(e==="tool")return Pt;if(e==="typeSystem")return Tt}static{this.vertexKind=new Map([["app","app"],["author","author"],["bundle","bun"],["community","comm"],["learning","learn"],["library","lib"],["license","lic"],["paradigm","para"],["plang","pl"],["platform","plat"],["post","post"],["subsystem","sys"],["tag","tag"],["tool","tool"],["typeSystem","tsys"]])}static{this.vertexNameByKind=new Map(Array.from(t.vertexKind.entries()).map(([e,r])=>[r,e]))}getVertex(e){let r=e.split("+",2)[0],n=t.vertexNameByKind.get(r);if(n)return this.vertices[n]?.get(e)}toJSON(){return{vertices:Object.fromEntries(Object.entries(this.vertices).map(([e,r])=>[e,r.toJSON()])),edges:Object.fromEntries(Object.entries(this.edges).map(([e,r])=>[e,r.toJSON()]))}}loadJSON(e){for(let[r,n]of Object.entries(e.vertices)){let a=this.vertices[r];for(let[o,i]of Object.entries(n))a.set(o,i)}for(let[r,n]of Object.entries(e.edges)){let a=this.edges[r];for(let[o,i]of Object.entries(n))a.add(o,...i)}return this}},er=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="app"}static{this.vertexName="app"}static{this.vertexDesc="Software Application"}static{this.relConfig={relCommunities:{edgeName:"communityRelApps",direction:"inverse",gen:!1},relLearning:{edgeName:"learningRelApps",direction:"inverse",gen:!1},relLicenses:{edgeName:"licenseRelApps",direction:"inverse",gen:!0},relPlatforms:{edgeName:"appRelPlatforms",direction:"direct",gen:!0},relPosts:{edgeName:"postRelApps",direction:"inverse",gen:!1},relTags:{edgeName:"tagRelApps",direction:"inverse",gen:!0},relWrittenWith:{edgeName:"appRelWrittenWith",direction:"direct",gen:!0}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relCommunities(){return new w(this,this.graph.edges.communityRelApps)}get relLearning(){return new w(this,this.graph.edges.learningRelApps)}get relLicenses(){return new w(this,this.graph.edges.licenseRelApps)}get relPlatforms(){return new b(this,this.graph.edges.appRelPlatforms)}get relPosts(){return new w(this,this.graph.edges.postRelApps)}get relTags(){return new w(this,this.graph.edges.tagRelApps)}get relWrittenWith(){return new b(this,this.graph.edges.appRelWrittenWith)}},tr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="author"}static{this.vertexName="author"}static{this.vertexDesc="Author"}static{this.relConfig={relCommunites:{edgeName:"authorRelCommunites",direction:"direct",gen:!0},relPosts:{edgeName:"postRelAuthors",direction:"inverse",gen:!1}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relCommunites(){return new b(this,this.graph.edges.authorRelCommunites)}get relPosts(){return new w(this,this.graph.edges.postRelAuthors)}},rr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="bun"}static{this.vertexName="bundle"}static{this.vertexDesc="Bundle of Tools"}static{this.relConfig={relPlangs:{edgeName:"bundleRelPlangs",direction:"direct",gen:!1},relTools:{edgeName:"bundleRelTools",direction:"direct",gen:!0}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relPlangs(){return new b(this,this.graph.edges.bundleRelPlangs)}get relTools(){return new b(this,this.graph.edges.bundleRelTools)}},nr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="comm"}static{this.vertexName="community"}static{this.vertexDesc="Community"}static{this.relConfig={relApps:{edgeName:"communityRelApps",direction:"direct",gen:!0},relLearning:{edgeName:"learningRelCommunities",direction:"inverse",gen:!1},relLibraries:{edgeName:"communityRelLibraries",direction:"direct",gen:!0},relMembers:{edgeName:"authorRelCommunites",direction:"inverse",gen:!1},relPlangs:{edgeName:"communityRelPlangs",direction:"direct",gen:!0},relPosts:{edgeName:"postRelCommunities",direction:"inverse",gen:!1},relSubsystems:{edgeName:"communityRelSubsystems",direction:"direct",gen:!0},relTags:{edgeName:"tagRelCommunities",direction:"inverse",gen:!0},relTools:{edgeName:"communityRelTools",direction:"direct",gen:!0}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relApps(){return new b(this,this.graph.edges.communityRelApps)}get relLearning(){return new w(this,this.graph.edges.learningRelCommunities)}get relLibraries(){return new b(this,this.graph.edges.communityRelLibraries)}get relMembers(){return new w(this,this.graph.edges.authorRelCommunites)}get relPlangs(){return new b(this,this.graph.edges.communityRelPlangs)}get relPosts(){return new w(this,this.graph.edges.postRelCommunities)}get relSubsystems(){return new b(this,this.graph.edges.communityRelSubsystems)}get relTags(){return new w(this,this.graph.edges.tagRelCommunities)}get relTools(){return new b(this,this.graph.edges.communityRelTools)}},ar=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="learn"}static{this.vertexName="learning"}static{this.vertexDesc="Learning Resource"}static{this.relConfig={relApps:{edgeName:"learningRelApps",direction:"direct",gen:!0},relCommunities:{edgeName:"learningRelCommunities",direction:"direct",gen:!0},relLibraries:{edgeName:"learningRelLibraries",direction:"direct",gen:!0},relPlangs:{edgeName:"learningRelPlangs",direction:"direct",gen:!0},relPosts:{edgeName:"postRelLearning",direction:"inverse",gen:!1},relSubsystems:{edgeName:"learningRelSubsystems",direction:"direct",gen:!0},relTags:{edgeName:"tagRelLearning",direction:"inverse",gen:!0},relTools:{edgeName:"learningRelTools",direction:"direct",gen:!0}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relApps(){return new b(this,this.graph.edges.learningRelApps)}get relCommunities(){return new b(this,this.graph.edges.learningRelCommunities)}get relLibraries(){return new b(this,this.graph.edges.learningRelLibraries)}get relPlangs(){return new b(this,this.graph.edges.learningRelPlangs)}get relPosts(){return new w(this,this.graph.edges.postRelLearning)}get relSubsystems(){return new b(this,this.graph.edges.learningRelSubsystems)}get relTags(){return new w(this,this.graph.edges.tagRelLearning)}get relTools(){return new b(this,this.graph.edges.learningRelTools)}},sr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="lib"}static{this.vertexName="library"}static{this.vertexDesc="Software Library"}static{this.relConfig={relCommunities:{edgeName:"communityRelLibraries",direction:"inverse",gen:!1},relLearning:{edgeName:"learningRelLibraries",direction:"inverse",gen:!1},relLicenses:{edgeName:"licenseRelLibraries",direction:"inverse",gen:!0},relPlangs:{edgeName:"libraryRelPlangs",direction:"direct",gen:!0},relPlatforms:{edgeName:"libraryRelPlatforms",direction:"direct",gen:!0},relPosts:{edgeName:"postRelLibraries",direction:"inverse",gen:!1},relTags:{edgeName:"tagRelLibraries",direction:"inverse",gen:!0},relWrittenWith:{edgeName:"libraryRelWrittenWith",direction:"direct",gen:!0}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relCommunities(){return new w(this,this.graph.edges.communityRelLibraries)}get relLearning(){return new w(this,this.graph.edges.learningRelLibraries)}get relLicenses(){return new w(this,this.graph.edges.licenseRelLibraries)}get relPlangs(){return new b(this,this.graph.edges.libraryRelPlangs)}get relPlatforms(){return new b(this,this.graph.edges.libraryRelPlatforms)}get relPosts(){return new w(this,this.graph.edges.postRelLibraries)}get relTags(){return new w(this,this.graph.edges.tagRelLibraries)}get relWrittenWith(){return new b(this,this.graph.edges.libraryRelWrittenWith)}},or=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="lic"}static{this.vertexName="license"}static{this.vertexDesc="Software License"}static{this.relConfig={relApps:{edgeName:"licenseRelApps",direction:"direct",gen:!1},relLibraries:{edgeName:"licenseRelLibraries",direction:"direct",gen:!1},relPlangs:{edgeName:"licenseRelPlangs",direction:"direct",gen:!1},relSubsystems:{edgeName:"licenseRelSubsystems",direction:"direct",gen:!1},relTools:{edgeName:"licenseRelTools",direction:"direct",gen:!1}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relApps(){return new b(this,this.graph.edges.licenseRelApps)}get relLibraries(){return new b(this,this.graph.edges.licenseRelLibraries)}get relPlangs(){return new b(this,this.graph.edges.licenseRelPlangs)}get relSubsystems(){return new b(this,this.graph.edges.licenseRelSubsystems)}get relTools(){return new b(this,this.graph.edges.licenseRelTools)}},ir=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="para"}static{this.vertexName="paradigm"}static{this.vertexDesc="Programming Language Paradigm"}static{this.relConfig={relPlangs:{edgeName:"plangRelParadigms",direction:"inverse",gen:!1}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relPlangs(){return new w(this,this.graph.edges.plangRelParadigms)}},lr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="pl"}static{this.vertexName="plang"}static{this.vertexDesc="Programming Language"}static{this.relConfig={relApps:{edgeName:"appRelWrittenWith",direction:"inverse",gen:!1},relBundles:{edgeName:"bundleRelPlangs",direction:"inverse",gen:!1},relCommunities:{edgeName:"communityRelPlangs",direction:"inverse",gen:!1},relCompilesTo:{edgeName:"plangRelCompilesTo",direction:"direct",gen:!0},relDialectOf:{edgeName:"plangRelDialectOf",direction:"direct",gen:!0},relDialects:{edgeName:"plangRelDialectOf",direction:"inverse",gen:!1},relImplementedBy:{edgeName:"plangRelImplements",direction:"inverse",gen:!1},relImplements:{edgeName:"plangRelImplements",direction:"direct",gen:!0},relInfluenced:{edgeName:"plangRelInfluencedBy",direction:"inverse",gen:!1},relInfluencedBy:{edgeName:"plangRelInfluencedBy",direction:"direct",gen:!0},relLearning:{edgeName:"learningRelPlangs",direction:"inverse",gen:!1},relLibraries:{edgeName:"libraryRelPlangs",direction:"inverse",gen:!1},relLicenses:{edgeName:"licenseRelPlangs",direction:"inverse",gen:!0},relParadigms:{edgeName:"plangRelParadigms",direction:"direct",gen:!0},relPlatforms:{edgeName:"plangRelPlatforms",direction:"direct",gen:!0},relPosts:{edgeName:"postRelPlangs",direction:"inverse",gen:!1},relSubsystems:{edgeName:"subsystemRelWrittenWith",direction:"inverse",gen:!1},relTags:{edgeName:"tagRelPlangs",direction:"inverse",gen:!0},relTargetOf:{edgeName:"plangRelCompilesTo",direction:"inverse",gen:!1},relTools:{edgeName:"plangRelTools",direction:"direct",gen:!1},relToolsUsing:{edgeName:"toolRelWrittenWith",direction:"inverse",gen:!1},relTypeSystems:{edgeName:"plangRelTypeSystems",direction:"direct",gen:!0},relUsedInLibrary:{edgeName:"libraryRelWrittenWith",direction:"inverse",gen:!1},relUsedToWrite:{edgeName:"plangRelWrittenWith",direction:"inverse",gen:!1},relWrittenWith:{edgeName:"plangRelWrittenWith",direction:"direct",gen:!0}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relApps(){return new w(this,this.graph.edges.appRelWrittenWith)}get relBundles(){return new w(this,this.graph.edges.bundleRelPlangs)}get relCommunities(){return new w(this,this.graph.edges.communityRelPlangs)}get relCompilesTo(){return new b(this,this.graph.edges.plangRelCompilesTo)}get relDialectOf(){return new b(this,this.graph.edges.plangRelDialectOf)}get relDialects(){return new w(this,this.graph.edges.plangRelDialectOf)}get relImplementedBy(){return new w(this,this.graph.edges.plangRelImplements)}get relImplements(){return new b(this,this.graph.edges.plangRelImplements)}get relInfluenced(){return new w(this,this.graph.edges.plangRelInfluencedBy)}get relInfluencedBy(){return new b(this,this.graph.edges.plangRelInfluencedBy)}get relLearning(){return new w(this,this.graph.edges.learningRelPlangs)}get relLibraries(){return new w(this,this.graph.edges.libraryRelPlangs)}get relLicenses(){return new w(this,this.graph.edges.licenseRelPlangs)}get relParadigms(){return new b(this,this.graph.edges.plangRelParadigms)}get relPlatforms(){return new b(this,this.graph.edges.plangRelPlatforms)}get relPosts(){return new w(this,this.graph.edges.postRelPlangs)}get relSubsystems(){return new w(this,this.graph.edges.subsystemRelWrittenWith)}get relTags(){return new w(this,this.graph.edges.tagRelPlangs)}get relTargetOf(){return new w(this,this.graph.edges.plangRelCompilesTo)}get relTools(){return new b(this,this.graph.edges.plangRelTools)}get relToolsUsing(){return new w(this,this.graph.edges.toolRelWrittenWith)}get relTypeSystems(){return new b(this,this.graph.edges.plangRelTypeSystems)}get relUsedInLibrary(){return new w(this,this.graph.edges.libraryRelWrittenWith)}get relUsedToWrite(){return new w(this,this.graph.edges.plangRelWrittenWith)}get relWrittenWith(){return new b(this,this.graph.edges.plangRelWrittenWith)}},cr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="plat"}static{this.vertexName="platform"}static{this.vertexDesc="Platform where Software runs"}static{this.relConfig={relApps:{edgeName:"appRelPlatforms",direction:"inverse",gen:!1},relLibraries:{edgeName:"libraryRelPlatforms",direction:"inverse",gen:!1},relPlangs:{edgeName:"plangRelPlatforms",direction:"inverse",gen:!1},relSubsystems:{edgeName:"subsystemRelPlatforms",direction:"inverse",gen:!1},relTools:{edgeName:"toolRelPlatforms",direction:"inverse",gen:!1}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relApps(){return new w(this,this.graph.edges.appRelPlatforms)}get relLibraries(){return new w(this,this.graph.edges.libraryRelPlatforms)}get relPlangs(){return new w(this,this.graph.edges.plangRelPlatforms)}get relSubsystems(){return new w(this,this.graph.edges.subsystemRelPlatforms)}get relTools(){return new w(this,this.graph.edges.toolRelPlatforms)}},pr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="post"}static{this.vertexName="post"}static{this.vertexDesc="Blog Post"}static{this.relConfig={relApps:{edgeName:"postRelApps",direction:"direct",gen:!1},relAuthors:{edgeName:"postRelAuthors",direction:"direct",gen:!1},relCommunities:{edgeName:"postRelCommunities",direction:"direct",gen:!1},relLearning:{edgeName:"postRelLearning",direction:"direct",gen:!1},relLibraries:{edgeName:"postRelLibraries",direction:"direct",gen:!1},relPlangs:{edgeName:"postRelPlangs",direction:"direct",gen:!1},relSubsystems:{edgeName:"postRelSubsystems",direction:"direct",gen:!1},relTools:{edgeName:"postRelTools",direction:"direct",gen:!1}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relApps(){return new b(this,this.graph.edges.postRelApps)}get relAuthors(){return new b(this,this.graph.edges.postRelAuthors)}get relCommunities(){return new b(this,this.graph.edges.postRelCommunities)}get relLearning(){return new b(this,this.graph.edges.postRelLearning)}get relLibraries(){return new b(this,this.graph.edges.postRelLibraries)}get relPlangs(){return new b(this,this.graph.edges.postRelPlangs)}get relSubsystems(){return new b(this,this.graph.edges.postRelSubsystems)}get relTools(){return new b(this,this.graph.edges.postRelTools)}},dr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="sys"}static{this.vertexName="subsystem"}static{this.vertexDesc="Subsystem"}static{this.relConfig={relCommunities:{edgeName:"communityRelSubsystems",direction:"inverse",gen:!1},relLearning:{edgeName:"learningRelSubsystems",direction:"inverse",gen:!1},relLicenses:{edgeName:"licenseRelSubsystems",direction:"inverse",gen:!0},relPlatforms:{edgeName:"subsystemRelPlatforms",direction:"direct",gen:!0},relPosts:{edgeName:"postRelSubsystems",direction:"inverse",gen:!1},relTags:{edgeName:"tagRelSubsystems",direction:"inverse",gen:!0},relWrittenWith:{edgeName:"subsystemRelWrittenWith",direction:"direct",gen:!0}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relCommunities(){return new w(this,this.graph.edges.communityRelSubsystems)}get relLearning(){return new w(this,this.graph.edges.learningRelSubsystems)}get relLicenses(){return new w(this,this.graph.edges.licenseRelSubsystems)}get relPlatforms(){return new b(this,this.graph.edges.subsystemRelPlatforms)}get relPosts(){return new w(this,this.graph.edges.postRelSubsystems)}get relTags(){return new w(this,this.graph.edges.tagRelSubsystems)}get relWrittenWith(){return new b(this,this.graph.edges.subsystemRelWrittenWith)}},ur=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="tag"}static{this.vertexName="tag"}static{this.vertexDesc="Tag"}static{this.relConfig={relApps:{edgeName:"tagRelApps",direction:"direct",gen:!1},relCommunities:{edgeName:"tagRelCommunities",direction:"direct",gen:!1},relLearning:{edgeName:"tagRelLearning",direction:"direct",gen:!1},relLibraries:{edgeName:"tagRelLibraries",direction:"direct",gen:!1},relPlangs:{edgeName:"tagRelPlangs",direction:"direct",gen:!1},relSubsystems:{edgeName:"tagRelSubsystems",direction:"direct",gen:!1},relTools:{edgeName:"tagRelTools",direction:"direct",gen:!1}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relApps(){return new b(this,this.graph.edges.tagRelApps)}get relCommunities(){return new b(this,this.graph.edges.tagRelCommunities)}get relLearning(){return new b(this,this.graph.edges.tagRelLearning)}get relLibraries(){return new b(this,this.graph.edges.tagRelLibraries)}get relPlangs(){return new b(this,this.graph.edges.tagRelPlangs)}get relSubsystems(){return new b(this,this.graph.edges.tagRelSubsystems)}get relTools(){return new b(this,this.graph.edges.tagRelTools)}},gr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="tool"}static{this.vertexName="tool"}static{this.vertexDesc="Programming Tool"}static{this.relConfig={relBundles:{edgeName:"bundleRelTools",direction:"inverse",gen:!1},relCommunities:{edgeName:"communityRelTools",direction:"inverse",gen:!1},relLearning:{edgeName:"learningRelTools",direction:"inverse",gen:!1},relLicenses:{edgeName:"licenseRelTools",direction:"inverse",gen:!0},relPlangs:{edgeName:"plangRelTools",direction:"inverse",gen:!0},relPlatforms:{edgeName:"toolRelPlatforms",direction:"direct",gen:!0},relPosts:{edgeName:"postRelTools",direction:"inverse",gen:!1},relTags:{edgeName:"tagRelTools",direction:"inverse",gen:!0},relWrittenWith:{edgeName:"toolRelWrittenWith",direction:"direct",gen:!0}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relBundles(){return new w(this,this.graph.edges.bundleRelTools)}get relCommunities(){return new w(this,this.graph.edges.communityRelTools)}get relLearning(){return new w(this,this.graph.edges.learningRelTools)}get relLicenses(){return new w(this,this.graph.edges.licenseRelTools)}get relPlangs(){return new w(this,this.graph.edges.plangRelTools)}get relPlatforms(){return new b(this,this.graph.edges.toolRelPlatforms)}get relPosts(){return new w(this,this.graph.edges.postRelTools)}get relTags(){return new w(this,this.graph.edges.tagRelTools)}get relWrittenWith(){return new b(this,this.graph.edges.toolRelWrittenWith)}},mr=class t extends ${constructor(){super(...arguments);this.vertexKind=t.vertexKind;this.vertexDesc=t.vertexDesc;this.vertexName=t.vertexName;this.relConfig=t.relConfig}static{this.vertexKind="tsys"}static{this.vertexName="typeSystem"}static{this.vertexDesc="Type System"}static{this.relConfig={relPlangs:{edgeName:"plangRelTypeSystems",direction:"inverse",gen:!1}}}get relations(){return new Map(Object.keys(t.relConfig).map(r=>[r,this[r]]))}get relPlangs(){return new w(this,this.graph.edges.plangRelTypeSystems)}};var T=at.relConfig,te=at.propConfig,st=class extends at{materialize(){for(let e of this.bundle.values)for(let r of e.relTools.values)e.relPlangs.add(...r.relPlangs.keys);for(let e of this.plang.values)!e.isTranspiler&&e.relCompilesTo.size>0&&(e.data.isTranspiler=!0);return this}},ft=class extends er{get github(){return new Ke(this)}get releases(){return new Ae(this)}},ht=class extends tr{},yt=class extends rr{},vt=class extends nr{},xt=class extends ar{},bt=class extends sr{get github(){return new Ke(this)}get releases(){return new Ae(this)}},Le=class extends or{get spdx(){return this.data.spdx}get isFSFLibre(){return this.data.isFSFLibre===!0}get isOSIApproved(){return this.data.isOSIApproved===!0}},wt=class extends ir{},ue=class extends lr{addExtensions(e){return Ve(this.data.extensions??=[],e),this}addFilenames(e){return Ve(this.data.filenames??=[],e),this}addReleases(e){return Ve(this.data.releases??=[],e,(r,n)=>r.version===n.version),this}merge(e){let{extensions:r,filenames:n,releases:a,...o}=e;return r&&this.addExtensions(r),n&&this.addFilenames(n),a&&this.addReleases(a),super.merge(o)}get extensions(){return new ie(this.data.extensions)}get filenames(){return new ie(this.data.filenames)}get github(){return new Ke(this)}get isPopular(){let{githubPopular:e,languishRanking:r}=this.data;return!!e||typeof r=="number"&&r<=25}get isTranspiler(){return this.data.isTranspiler===!0}get ranking(){return this.data.languishRanking}get releases(){return new Ae(this)}get stackovTags(){return new ie(this.data.stackovTags)}family(e={compilesTo:!0,dialectOf:!0,implements:!0}){let r=new Set([]);if(e.compilesTo)for(let n of this.relCompilesTo.values)r.add(n);if(e.dialectOf)for(let n of this.relDialectOf.values)r.add(n);if(e.implements)for(let n of this.relImplements.values)r.add(n);return r}},_t=class extends cr{},Vt=class extends ur{},Pt=class extends gr{get github(){return new Ke(this)}get releases(){return new Ae(this)}},Tt=class extends mr{},Ct=class extends dr{get github(){return new Ke(this)}get releases(){return new Ae(this)}},Rt=class extends pr{set path(e){this.data.path=e}get author(){return this.data.author}get date(){return this.data.date}get path(){return this.data.path}get title(){return this.name}};function kt(t){if(!t)return"Cannot be empty."}function wa(t){if(!xa(t??""))return"Invalid date format. Use YYYY-MM-DD."}function St(t,e){if(!t)return;if(!t.split(",").every(n=>e.test(n)))return`Invalid format. Should match RegExp: ${e.source}`}function _a(t){let e;try{e=new URL(`${t??""}`)}catch{}if(!e||!e.hostname||!e.protocol)return"Invalid URL format."}function fr(t,e){if(t&&!e.test(t||""))return`Invalid format. Should match RegExp: ${e.source}`}function Va(t,e){if(!t)return;let r=Number.parseInt(`${t??""}`);if(Number.isNaN(r)||!e(r))return"Invalid number."}var hr=/[a-zA-Z0-9\-\_]+/,no=/^\.[a-zA-Z0-9\-\_]+/,ao=/[a-zA-Z0-9\-\_]+\/[a-zA-Z0-9\-\_]+/,so=/[a-zA-Z0-9\_\(\)\-]+$/,yr=class t extends ee{static create(e){return new t({vertex:e,fields:t.fields(e),values:t.values(e)})}static fields(e){let r={name:{kind:"string",label:"Name",validator:kt,saver:n=>e.data.name=n},description:{kind:"text",label:"Description",validator:kt,saver:n=>e.data.description=n},shortDesc:{kind:"text",label:"Short Description",validator:kt,saver:n=>e.data.shortDesc=n},created:{kind:"string",label:"Created",validator:wa,saver:n=>e.data.created=n},keywords:{kind:"string",label:"Keywords",desc:"Comma-separated list of keywords.",validator:n=>St(n,hr),saver:n=>n&&e.addKeywords(n.split(","))},urlHome:{kind:"string",label:"Home URL",desc:"URL including protocol (http, https).",validator:_a,saver:n=>e.data.extHomeURL=n},extRedditPath:{kind:"string",label:"Reddit Path",desc:"Path to subreddit. Example: Python for https://www.reddit.com/r/Python/",validator:n=>fr(n,hr),saver:n=>e.data.extRedditPath=n},extWikipediaPath:{kind:"string",label:"Wikipedia Path",desc:"Path to wikipedia. Example: Python_(programming_language) for https://en.wikipedia.org/wiki/Python_(programming_language)",validator:n=>fr(n,so),saver:n=>e.data.extWikipediaPath=n},stackovTags:{kind:"string",label:"Stack Overflow Tags",desc:"Comma-separated list of tags.",validator:n=>St(n,hr),saver:n=>n&&e.addStackovTags(n.split(","))}};return e instanceof ue&&(r.extensions={kind:"string",label:"Extensions",desc:"Comma-separated list of extensions. Example: .py,.pyc",validator:n=>St(n,no),saver:n=>n&&e.addExtensions(n.split(","))},r.filenames={kind:"string",label:"Filenames",desc:"Comma-separated list of files associated. Example: Makefile",validator:n=>St(n,hr),saver:n=>n&&e.addFilenames(n.split(","))},r.isTranspiler={kind:"bool",label:"Is Transpiler",desc:"Compiles to any other language.",validator:()=>{},saver:n=>e.data.isTranspiler=n}),e instanceof Le&&(r.spdx={kind:"string",label:"SPDX",validator:kt,saver:n=>e.data.spdx=n},r.isFSFLibre={kind:"bool",label:"FSF Libre?",validator:()=>{},saver:n=>e.data.isFSFLibre=n},r.isOSIApproved={kind:"bool",label:"OSI Approved?",validator:()=>{},saver:n=>e.data.isOSIApproved=n}),"github"in e&&(r.extGithubPath={kind:"string",label:"Github Path",desc:"Example: EmmanuelOga/plangs2 for github.com/emmanueloga/plangs2",validator:n=>fr(n,ao),saver:n=>e.data.extGithubPath=n},r.githubStars={kind:"string",label:"Github Stars",validator:n=>Va(n,a=>a>0),saver:n=>e.data.githubStars=Number.parseInt(n)}),r}static values(e){let r={description:e.description,name:e.name,shortDesc:e.data.shortDesc,created:e.created.value,keywords:e.keywords.join(","),urlHome:e.urlHome,extRedditPath:e.data.extRedditPath,extWikipediaPath:e.data.extWikipediaPath,stackovTags:e.data.stackovTags?.join(",")};return e instanceof ue&&(r.extensions=e.extensions.join(","),r.filenames=e.filenames.join(","),r.isTranspiler=e.isTranspiler),e instanceof Le&&(r.spdx=e.spdx,r.isFSFLibre=e.isFSFLibre,r.isOSIApproved=e.isOSIApproved),"github"in e&&(r.extGithubPath=e.data.extGithubPath,r.githubStars=e.data.githubStars),r}get vertex(){return this.data.vertex}get values(){return this.data.values}get fields(){return this.data.fields}get status(){return this.data.status}set status(e){this.data.status=e,this.dispatch()}doUpdate(e,r){this.values[e]=r,this.dispatch()}doReload(){this.data.values=t.values(this.data.vertex),this.dispatch()}doSave(){let e=[],r=0;for(let[a,o]of Object.entries(this.values)){let{validator:i,saver:c}=this.fields[a];i?.(o)?e.push(a):(c?.(o),r++)}r>0&&De(this.vertex.graph.toJSON());let n=[`${new Date().toLocaleTimeString()} update: saved ${r} fields.`];e.length&&n.push(`Fields with errors: ${e.join(", ")}.`),this.status=n.join(" "),this.dispatch()}validate(e){return this.fields[e]?.validator?.(this.values[e])}};function Pa({vertex:t}){let e=N(()=>yr.create(t));return s("div",{class:d("flex flex-col gap-4 justify-self-center","min-w-[50%] max-w-[160ch]","bg-secondary/25"),children:[s("header",{class:d("px-4 py-2","flex flex-row gap-4","justify-end","bg-secondary/50","text-center text-xl"),children:[J({label:"Reload",onClick:()=>e.doReload()}),J({label:"Save",onClick:()=>e.doSave()})]}),s("div",{class:"text-center",children:e.status}),s("div",{class:"overflow-hidden overflow-y-auto",children:[...Object.entries(e.fields)].map(([r,n])=>oo(e,r,n))})]})}function oo(t,e,r){let{label:n,kind:a,desc:o,validator:i}=r,c=`field-${n}`,u=t.values[e],g=i(u);return s("div",{class:"px-4",children:[s("label",{class:"block",for:c,children:n}),o&&s("div",{class:"text-foreground/80 text-sm italic",children:o}),s("div",{class:"py-2",children:[a==="bool"&&s("input",{id:c,type:"checkbox",checked:!!u,onInput:({target:y})=>t.doUpdate(e,y.checked)}),a==="string"&&s("input",{id:c,type:"text",class:d(U,"w-full"),value:u??"",onInput:({target:y})=>t.doUpdate(e,y.value)}),a==="text"&&s("textarea",{id:c,value:u?`${u}`:"",class:d(U,"text-xl","w-full","min-h-[10rem]"),style:"font-family: monospace;",onInput:({target:y})=>t.doUpdate(e,y.value)})]}),s("div",{class:d("mb-4 p-1","text-gray-800",g&&"bg-linear-to-b from-red-200 to-red-300"),children:g??""})]})}var vr=class extends ee{doSetCurrentKind(e){this.data.currentKind=e,this.dispatch()}doSetCurrentVertex(e){if(this.data.currentVertex=e,this.currentRel?.[0]){let[r]=this.currentRel,n=e.relations;if(n.has(r)){let a=n.get(r);this.data.currentRel=[r,a]}else this.data.currentRel=void 0}this.dispatch()}doSetFilter(e){this.data.filter=e,this.dispatch()}doSetTab(e){this.data.tab=e,this.dispatch()}doSetRel(e){this.data.currentRel=e,this.dispatch()}get currentKind(){return this.data.currentKind}get currentVertices(){let e=[...this.data.pg.vertices[this.data.currentKind].values];return this.data.filter?e.filter(r=>r.key.includes(this.data.filter)):e}get currentVertex(){return this.data.currentVertex}get currentRel(){return this.data.currentRel}get filter(){return this.data.filter}get tab(){return this.data.tab}get vertexNames(){return Object.keys(this.data.pg.vertices).filter(e=>e!=="post")}};function Ta({pg:t}){let e=Q(null),r=N(()=>new vr({pg:t,currentKind:"plang",filter:"",tab:"relations"}));return j(()=>{e.current?.querySelectorAll("button.current")[1]?.scrollIntoView({block:"nearest"})}),s("div",{ref:e,class:d("p-2","flex-1","flex flex-row gap-8","overflow-hidden"),children:[s("div",{class:d("w-[11.5rem] pr-2","flex flex-col gap-4"),children:[s("select",{class:d(U,"py-0 text-black/85"),onChange:n=>r.doSetCurrentKind(n.currentTarget.value),children:r.vertexNames.map(n=>s("option",{value:n,selected:r.currentKind===n,children:n},n))}),s("input",{"aria-label":"Filter Key",placeholder:"Filter",value:r.filter,onInput:n=>r.doSetFilter(n.target.value),class:d(U,"px-2 py-1")}),s("div",{class:d("w-[11.5rem] pr-2","flex flex-col gap-4",Ee),children:r.currentVertices.map(n=>J({label:n.key,isCurrent:()=>r.currentVertex?.key===n.key,onClick:()=>r.doSetCurrentVertex(n)}))})]}),r.currentVertex?s("div",{class:d("flex-1","flex flex-col gap-4","bg-secondary/10","overflow-hidden"),children:[s("header",{class:"border-1 border-primary bg-secondary/75 py-2 text-center text-xl",children:[r.currentVertex.vertexName,": ",r.currentVertex.key,": ",r.currentVertex.name]}),s("div",{class:"flex flex-row gap-4",children:[s(J,{label:"FORM",isCurrent:()=>r.tab==="form",onClick:()=>r.doSetTab("form")}),s(J,{label:"RELATIONS",isCurrent:()=>r.tab==="relations",onClick:()=>r.doSetTab("relations")}),s(J,{label:"JSON",isCurrent:()=>r.tab==="json",onClick:()=>r.doSetTab("json")})]}),s("div",{class:"flex flex-1 justify-center overflow-hidden",children:r.tab==="form"?s(Pa,{vertex:r.currentVertex},r.currentVertex.key):r.tab==="relations"?s(lo,{state:r},r.currentVertex.key):s(io,{vertex:r.currentVertex},r.currentVertex.key)})]}):s("div",{class:"flex-1 bg-secondary/25 p-4",children:"Select a vertex to edit."})]})}function J({label:t,isCurrent:e,onClick:r,class:n}){return s("button",{type:"button",class:d("inline-flex items-start align-middle","cursor-pointer","hover:bg-hiliteb hover:text-hilitef","m-0.5 ring-1 ring-primary",e?.()&&"current bg-secondary",n),onClick:r,children:s("span",{class:d("mx-1 px-1 py-0.5","inline-block w-full","truncate"),children:t})})}function io({vertex:t}){let e=()=>JSON.stringify(t.data,null,2),r=Q(null),[n,a]=Se(""),o=()=>{r.current&&(r.current.value=e()),a(`Reloadad at ${new Date().toLocaleTimeString()}`)},i=()=>{try{let c=JSON.parse(r.current?.value??"");Object.assign(t.clearData().data,c),De(t.graph.toJSON()),a(`Saved at ${new Date().toLocaleTimeString()}`)}catch(c){a(`Error: ${c}`)}};return j(()=>{r.current&&(r.current.value=e())},[]),s("div",{class:d("w-full","flex flex-col gap-4 justify-self-center","bg-secondary/25"),children:[s("header",{class:d("px-4 py-2","flex flex-row gap-4","justify-end","bg-secondary/50","text-center text-xl"),children:[s(J,{label:"Reload",onClick:o}),s(J,{label:"Save",onClick:i})]}),s("div",{class:"text-center",children:n}),s("textarea",{ref:r,class:d(U,"text-xl","flex-1 overflow-hidden overflow-y-auto"),style:"font-family: monospace;"})]})}function lo({state:t}){let e=t.currentVertex;return s("div",{class:"flex flex-1 flex-row gap-4 overflow-hidden",children:[s("div",{class:d("flex flex-col gap-4",Ee,"pr-4","max-w-[10rem]"),children:[...e.relations.entries()].filter(([r])=>r!=="relPosts"&&r!=="relAuthors").map(([r,n])=>s(J,{label:n.edgeDesc,isCurrent:()=>t.currentRel?.[0]===r,onClick:()=>t.doSetRel([r,n])},`${e.key}-${r}`))}),t.currentRel?s(co,{state:t,vertex:e,relKey:t.currentRel[0],rel:t.currentRel[1]},`${e.key}-${t.currentRel[1]}`):s("div",{class:"p-4",children:"Select a Relation."})]},e.key)}function co({state:t,vertex:e,relKey:r,rel:n}){let a=[],o=[];for(let u of n.targetVertices.values)n.has(u.key)?a.push(u):o.push(u);function i(u){n.remove(u.key),De(e.graph.toJSON()),t.dispatch()}function c(u){n.add(u.key),De(e.graph.toJSON()),t.dispatch()}return s("div",{class:d("p-4","flex-1","flex flex-col gap-4","bg-primary/10","overflow-hidden overflow-y-scroll"),children:[s("header",{class:"text-2xl",children:[e.name," ",n.edgeDesc]}),s("div",{class:"flex flex-row flex-wrap gap-1",children:[s("h2",{class:"w-full pb-2",children:"Connected"}),a.map(u=>s(rt,{class:"group cursor-pointer hover:bg-primary/25",children:s("button",{type:"button",class:"inline-flex items-center gap-1",onClick:()=>i(u),children:[u.name,s("div",{class:d("inline-block","group-hover:text-hiliteb"),children:Yt})]})},`${e.key}-${r}-${u.key}`))]}),s("div",{class:"flex flex-row flex-wrap gap-1",children:[s("h2",{class:"w-full pb-2",children:"Unconnected"}),o.map(u=>s(rt,{class:"group hover:bg-primary/25",children:s("button",{type:"button",class:"inline-flex cursor-pointer items-center gap-1",onClick:()=>c(u),children:[u.name,s("div",{class:d("inline-block","group-hover:text-hiliteb"),children:jn})]})},`${e.key}-${r}-${u.key}`))]})]})}function Ca({pg:t}){let[e,r]=Se("status"),n=S("_any_page_"),a=n.load("local-edits");a||(a=t.toJSON(),n.update("local-edits",a));let o=new st().loadJSON(a);return s("div",{class:d("p-4","flex-1","flex flex-col gap-4","overflow-hidden"),children:[s("div",{class:d("p-2","flex flex-row gap-4","bg-secondary/25 text-primary","border-secondary border-b-1","shadow-secondary/25 shadow-sm"),children:[s(J,{class:"w-[8rem]",label:"STATUS",isCurrent:()=>e==="status",onClick:()=>r("status")}),s(J,{class:"w-[8rem]",label:"EDIT",isCurrent:()=>e==="edit",onClick:()=>r("edit")})]}),e==="status"&&s(po,{}),e==="edit"&&s(Ta,{pg:o})]})}function po(){let t=S("_any_page_"),[e,r]=Se(),[n,a]=Se();return s("div",{class:d(dt,"p-2","overflow-y-auto"),children:[s("h3",{class:"mt-0!",children:"Local Edits"}),s("p",{children:"Local edits are saved to localStorage, and can be used locally for testing."}),s("div",{class:"flex flex-row gap-4",children:[s("label",{class:"flex flex-row items-center",children:[s("input",{type:"checkbox",checked:!!t.load("enable-local-edits"),onChange:({target:o})=>{Ra(o.checked),r(`${new Date().toLocaleTimeString()}: mode updated.`)}}),s("span",{class:"ml-2",children:"Use localStorage data site-wide."})]}),e&&s("div",{class:"text-primary",children:e})]}),s("h3",{children:"Reset"}),s("p",{children:"Go back to a clean slate: you will lose your edits."}),s("div",{class:"flex flex-row gap-4",children:[s(J,{label:"Reset and Erase Edits",onClick:()=>{De(""),a(`${new Date().toLocaleTimeString()}: Local edits erased.`)}}),n&&s("div",{class:"text-primary",children:n})]}),s("h3",{children:"Exports and Contributions"}),s("p",{children:"Adding any edits back to the project requires a pull request. For now, this process involves a few steps:"}),s("ol",{children:[s("li",{children:s(J,{label:"Export Local Data",onClick:()=>uo(t.load("local-edits"))})}),s("li",{children:["Fork ",s("a",{href:"https://github.com/emmanueloga/plangs2",children:"Plangs! source repository"}),"."]}),s("li",{children:["Regenerate the TypeScript definitions through the command:",s("br",{}),s("code",{children:"$ bun regenerate path/to/plangs.json"}),s("br",{})]})]}),s("p",{children:"Now you should be ready to send a pull request. Thanks in advance!."})]})}function uo(t){if(!t){alert("No data to export.");return}let e=new Blob([JSON.stringify(t)],{type:"application/json"}),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download="plangs.json",n.click(),URL.revokeObjectURL(r)}function ka(t){let e=we("plangsEditor");e&&Ce(s(Ca,{pg:t}),e)}var go=["plangs","tools","apps","libraries","subsystems","learning","communities"];function Ra(t){S("_any_page_").update("enable-local-edits",t),Sa()}function De(t){S("_any_page_").update("local-edits",t),Sa()}function Sa(){for(let t of go)S(t).remove("vertex-detail")}var Pe=class t{constructor(e="any",r=new Set){this.mode=e;this.values=r}get isEmpty(){return this.values.size===0}add(...e){for(let r of e)this.values.add(r);return this}delete(e){return this.values.delete(e)}has(e){return this.values.has(e)}clear(){this.values.clear()}get size(){return this.values.size}matches(e){return this.mode==="all"?this.all(e):this.any(e)}all(e){for(let r of this.values)if(!e(r))return!1;return!0}any(e){for(let r of this.values)if(e(r))return!0;return!1}get value(){return this}get isPresent(){return!this.isEmpty}equalTo(e){if(!e||!(e instanceof t)||this.mode!==e.mode||this.values.size!==e.values.size)return!1;for(let r of this.values)if(!e.values.has(r))return!1;return!0}clone(){return new t(this.mode,new Set(this.values))}toJSON(){return{mode:this.mode,values:[...this.values]}}serializable(){return this.isEmpty?void 0:this.toJSON()}static isSerialized(e){return!!e&&typeof e=="object"&&"mode"in e&&(e.mode==="all"||e.mode==="any")&&"values"in e&&Array.isArray(e.values)}toString(){return`Filter(${this.mode}: ${JSON.stringify([...this.values]).slice(1,-1)})`}};var Me=class{constructor(e){this.value=e}get isNil(){return this.value===void 0||this.value===null}get isPresent(){return!this.isNil}serializable(){return this.isPresent?this.value:void 0}},O=class t extends Me{constructor(e=void 0){super(e)}equalTo(e){return e instanceof t}},G=class t extends Me{equalTo(e){return e instanceof t&&this.value===e.value}},Ft=class t extends Me{get isPresent(){return!this.isNil&&this.value===!0}equalTo(e){return e instanceof t&&this.value===e.value}},We=class t extends Me{get isPresent(){return!this.isNil&&this.value.length>0&&!/^\s*$/.test(this.value)}equalTo(e){return e instanceof t&&this.value===e.value}},xr=class t extends Me{get isPresent(){return!this.isNil&&this.value.size>0}equalTo(e){if(!(e instanceof t))return!1;if(this.value===e.value)return!0;if(this.value.size!==e.value.size)return!1;for(let r of this.value)if(!e.value.has(r))return!1;return!0}serializable(){return this.isPresent?["Set",[...this.value]]:void 0}static isSerialized(e){return Array.isArray(e)&&e[0]==="Set"&&Array.isArray(e[1])}},mo=/(?:)/,br=class t extends Me{get isPresent(){return!this.isNil&&this.value.source!==mo.source}equalTo(e){return e instanceof t&&this.value.source===e.value.source}serializable(){let{value:e}=this;return this.isPresent?e.flags?["RegExp",e.source,e.flags]:["RegExp",e.source]:void 0}static isSerialized(e){return Array.isArray(e)&&e[0]==="RegExp"&&typeof e[1]=="string"&&(e[2]===void 0||typeof e[2]=="string")}};function Fa(t){if(t==null)return new O(t);switch(typeof t){case"number":return new G(t);case"boolean":return new Ft(t);case"string":return new We(t)}if(br.isSerialized(t))return new br(new RegExp(t[1],t[2]));if(xr.isSerialized(t))return new xr(new Set(t[1]));if(Pe.isSerialized(t))return new Pe(t.mode,new Set(t.values));console.log("Attempt to deserialize an unrecognized value shape:",t)}function Be(t,e){let r;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>t(...n),e)}}var wr=class t{#e=new Map;has(e,r){return this.#e.get(e)?.has(r)??!1}set(e,r,n){let a=this.#e.get(e);return a||(a=new Map,this.#e.set(e,a)),a.set(r,n),this}getOrSet(e,r,n){let a=this.get(e,r);return a===void 0&&this.set(e,r,a=n()),a}delete(e,r){return this.#e.get(e)?.delete(r)??!1}delete1(e){let r=this.#e.get(e);return r?(this.#e.delete(e),r.size>0):!1}clear(){this.#e.clear()}get(e,r){return this.#e.get(e)?.get(r)}getMap(e){return this.#e.get(e)}getMap2(){let e=new Map;for(let[r,n]of this.#e)for(let[a,o]of n)e.set(a,o);return e}get size(){let e=0;for(let r of this.#e.values())e+=r.size;return e}get isEmpty(){for(let e of this.#e.values())if(e.size>0)return!1;return!0}size2(e){return this.#e.get(e)?.size??0}keys(){return[...this.#e.keys()].filter(e=>(this.#e.get(e)?.size??0)>0)}keys2(e){let r=[],n=this.#e.get(e);if(n)for(let a of n.keys())r.push(a);return r}entries(){return[...this.#e.entries()].filter(([e,r])=>r.size>0)}flatEntries(){let e=[];for(let[r,n]of this.#e)for(let[a,o]of n)e.push([r,a,o]);return e}filter(e){let r=new t;for(let[n,a]of this.#e)for(let[o,i]of a)e(n,o,i)&&r.set(n,o,i);return r}values(){return[...this.#e.values()].flatMap(e=>[...e.values()])}values2(e){let r=this.#e.get(e);return r?[...r.values()]:[]}toString(){let e=[...this.flatEntries()].map(([r,n,a])=>`(${r}, ${n}) => ${a}`);return`Map2(size: ${this.size})${e.length>0?` { ${e.join(", ")} }`:""}`}};var Ea={createdRecently:(t,e)=>t.created.isRecent(e.value),creationYear:(t,e)=>k(t.created.strYear,r=>e.matches(n=>r===n)),ghStars:(t,e)=>t.github.stars>e.value,licenses:(t,e)=>e.matches(r=>t.relLicenses.has(r)),name:(t,e)=>t.lcName.includes(e.value),platforms:(t,e)=>e.matches(r=>t.relPlatforms.has(r)),releasedRecently:(t,e)=>k(t.releases.last,r=>r?.isRecent(e.value)),tags:(t,e)=>e.matches(r=>t.relTags.has(r)),writtenWith:(t,e)=>e.matches(r=>t.relWrittenWith.has(r))};var Na={apps:(t,e)=>e.matches(r=>t.relApps.has(r)),createdRecently:(t,e)=>t.created.isRecent(e.value),creationYear:(t,e)=>k(t.created.strYear,r=>e.matches(n=>r===n)),libraries:(t,e)=>e.matches(r=>t.relLibraries.has(r)),name:(t,e)=>t.lcName.includes(e.value),plangs:(t,e)=>e.matches(r=>t.relPlangs.has(r)),tags:(t,e)=>e.matches(r=>t.relTags.has(r)),tools:(t,e)=>e.matches(r=>t.relTools.has(r))};var Aa={apps:(t,e)=>e.matches(r=>t.relApps.has(r)),createdRecently:(t,e)=>t.created.isRecent(e.value),creationYear:(t,e)=>k(t.created.strYear,r=>e.matches(n=>r===n)),libraries:(t,e)=>e.matches(r=>t.relLibraries.has(r)),name:(t,e)=>t.lcName.includes(e.value),plangs:(t,e)=>e.matches(r=>t.relPlangs.has(r)),tags:(t,e)=>e.matches(r=>t.relTags.has(r)),tools:(t,e)=>e.matches(r=>t.relTools.has(r))};var Ka={createdRecently:(t,e)=>t.created.isRecent(e.value),creationYear:(t,e)=>k(t.created.strYear,r=>e.matches(n=>r===n)),ghStars:(t,e)=>t.github.stars>e.value,licenses:(t,e)=>e.matches(r=>t.relLicenses.has(r)),name:(t,e)=>t.lcName.includes(e.value),platforms:(t,e)=>e.matches(r=>t.relPlatforms.has(r)),releasedRecently:(t,e)=>k(t.releases.last,r=>r?.isRecent(e.value)),tags:(t,e)=>e.matches(r=>t.relTags.has(r)),writtenFor:(t,e)=>e.matches(r=>t.relPlangs.has(r)),writtenWith:(t,e)=>e.matches(r=>t.relWrittenWith.has(r))};var La={compilesTo:(t,e)=>e.matches(r=>t.relCompilesTo.has(r)),created:(t,e)=>t.created.isRecent(e.value),creationYear:(t,e)=>k(t.created.strYear,r=>e.matches(n=>r===n)),dialectOf:(t,e)=>e.matches(r=>t.key===r||t.relDialectOf.has(r)),extensions:(t,e)=>e.matches(r=>t.extensions.includes(r)),hasLogo:(t,e)=>e.value===t.images.some(r=>r.kind==="logo"),hasWikipedia:(t,e)=>e.value===!!t.data.extWikipediaPath,implements:(t,e)=>e.matches(r=>r===t.key||t.relImplements.has(r)),influenced:(t,e)=>e.matches(r=>t.relInfluenced.has(r)),influencedBy:(t,e)=>e.matches(r=>t.relInfluencedBy.has(r)),isPopular:(t,e)=>e.value===t.isPopular,isTranspiler:(t,e)=>e.value===t.isTranspiler,licenses:(t,e)=>e.matches(r=>t.relLicenses.has(r)),name:(t,e)=>t.lcName.includes(e.value),paradigms:(t,e)=>e.matches(r=>t.relParadigms.has(r)),platforms:(t,e)=>e.matches(r=>t.relPlatforms.has(r)),released:(t,e)=>k(t.releases.last,r=>r?.isRecent(e.value)),tags:(t,e)=>e.matches(r=>t.relTags.has(r)),typeSystems:(t,e)=>e.matches(r=>t.relTypeSystems.has(r)),writtenWith:(t,e)=>e.matches(r=>t.relWrittenWith.has(r))};var Da={createdRecently:(t,e)=>t.created.isRecent(e.value),creationYear:(t,e)=>k(t.created.strYear,r=>e.matches(n=>r===n)),ghStars:(t,e)=>t.github.stars>e.value,licenses:(t,e)=>e.matches(r=>t.relLicenses.has(r)),name:(t,e)=>t.lcName.includes(e.value),platforms:(t,e)=>e.matches(r=>t.relPlatforms.has(r)),releasedRecently:(t,e)=>k(t.releases.last,r=>r?.isRecent(e.value)),tags:(t,e)=>e.matches(r=>t.relTags.has(r)),writtenWith:(t,e)=>e.matches(r=>t.relWrittenWith.has(r))};var Ma={createdRecently:(t,e)=>t.created.isRecent(e.value),creationYear:(t,e)=>k(t.created.strYear,r=>e.matches(n=>r===n)),ghStars:(t,e)=>t.github.stars>e.value,licenses:(t,e)=>e.matches(r=>t.relLicenses.has(r)),name:(t,e)=>t.lcName.includes(e.value),platforms:(t,e)=>e.matches(r=>t.relPlatforms.has(r)),releasedRecently:(t,e)=>k(t.releases.last,r=>r?.isRecent(e.value)),tags:(t,e)=>e.matches(r=>t.relTags.has(r)),writtenFor:(t,e)=>e.matches(r=>t.relPlangs.has(r)),writtenWith:(t,e)=>e.matches(r=>t.relWrittenWith.has(r))};function fo(t,e,r,n="any"){let a=!1;for(let[o,i]of r){if(!i.isPresent)continue;a=!0;let c=e[o];if(!c){console.error(`No predicate found for key: ${o}`);continue}let u=c(t,i);if(n==="all"&&!u)return!1;if(n==="any"&&u)return!0}return a?n==="all":!0}function ho(t,e,r="all"){let n=yo(t.name);return n?new Set([...t.values].filter(a=>fo(a,n,e,r)).map(a=>a.key)):(console.warn(`No predicates found for vertex name: ${t.name}`),new Set(t.keys))}function Ia(t,e,r="any"){let n=r==="all"?new Set(t.keys):new Set;for(let[a,o]of e.entries()){let i=ho(t,o,"all");if(r==="all"){if(i.size===0)return new Set;if(n=n.intersection(i),n.size===0)return n}else n=n.union(i)}return n}function yo(t){switch(t){case"app":return Ea;case"community":return Na;case"learning":return Aa;case"library":return Ka;case"plang":return La;case"tool":return Ma;case"subsystem":return Da}}var A=class t extends ee{constructor(){super(...arguments);this.updateThumbns=Be(this._updateThumbs.bind(this),30);this.pushState=Be((r=>{window.fragment.pushState(K.serialize(r))}).bind(this),50)}static deserialize(r,n){let a=new wr,o={mode:"any"};if(!n)return[o,a];for(let[i,c]of Object.entries(n)){if(i==="mode"&&(c==="all"||c==="any")){o.mode=c;continue}let u=r.get(i);if(!u){console.error("missing group for facet",i);continue}let g=Fa(c);g?.isPresent?a.set(u,i,g):console.error("failed to deserialize value",i,c)}return[o,a]}doSetCurrentGroup(r){this.data.currentGroupKey=r,S(this.page).update("facets-last-group",r),this.dispatch()}doResetGroup(r){this.values.delete1(r),this.dispatch()}doResetAll(r){if(r){let[{mode:n},a]=t.deserialize(this.gkByFk,r);this.data.values=a,this.data.mode=n}else this.values.clear();this.doSetCurrentGroup(this.nav.default)}doSetValue(r,n,a){let{values:o}=this.data,i;return a.isPresent?!o.has(r,n)||!a.equalTo(o.get(r,n))?(o.set(r,n,a),i="changed"):i="unchanged":i=o.delete(r,n)?"changed":"unchanged",this.dispatch(),i}doSetMode(r){this.data.mode=r,this.dispatch()}get pg(){return this.data.pg}get values(){return this.data.values}get mode(){return this.data.mode}get serialized(){let r={mode:this.data.mode};for(let[n,a,o]of this.values.flatEntries())o.isPresent&&(r[a]=o.serializable());return r}get currentGroupKey(){return this.data.currentGroupKey}groupHasValues(r){for(let n of this.values.getMap(r)?.values()??[])if(n.isPresent)return!0;return!1}get anyValues(){return this.values.values().some(r=>r.isPresent)}groupTitle(r){return this.groupsConfig.get(r)?.title??r}_updateThumbs(){let r=this.values.filter((a,o,i)=>i.isPresent),n=r.isEmpty?void 0:Ia(this.pg[this.vertexName],r,this.data.mode);for(let a of X("vertexThumbn")){let o=a.dataset.vertexKey;if(!o)continue;let i=n===void 0||n.has(o);a.classList.toggle("hidden",!i)}}runEffects(r=""){if(r==="persist"){let n=this.serialized;this.pushState(n),S(this.page).update("facet-value",n)}return this.updateThumbns(),this.updateClearFacets(),this}updateClearFacets(){let r=Ur("#icon-button-clearFacets");return r?.state?(r.state.doToggleMode(this.anyValues?"clearFacets":""),this):this}dispatch(){try{super.dispatch(),this.runEffects("persist")}catch(r){console.error(r)}return this}};var _r=class extends ee{doSetValue(e){let{main:r,data:n}=this;return r.doSetValue(n.groupKey,n.facetKey,e)}doAdd(e){if(!e)return!1;let{value:r}=this;return r.has(e)?!1:(r.add(e),this.doSetValue(r)==="changed")}doRemove(e){if(!e)return!1;let{value:r}=this;return r.has(e)?(r.delete(e),this.doSetValue(r)==="changed"):!1}doSetMode(e){let{value:r}=this;r.mode!==e&&(this.value.mode=e==="all"?"all":"any",this.doSetValue(r))}get main(){return this.data.main}get value(){let{main:e,groupKey:r,facetKey:n}=this.data;return e.values.getOrSet(r,n,()=>new Pe("any"))}};function Oa({active:t,facetKey:e,groupKey:r,label:n}){let a=Q(),o=Q(),i=oe(re),c=N(()=>new _r({main:i,groupKey:r,facetKey:e}));j(()=>ye(a?.current,"icon-button",l=>{l.stopPropagation(),c.doSetMode(l.detail.mode)}));let u=l=>a.current?.querySelector(`button[data-value="${l}"]`)?.scrollIntoView({behavior:"smooth",block:"nearest"}),g=Oe((l,h)=>{if(h.stopPropagation(),h.key!=="Enter")return;let m=l.value.startsWith(".")?l.value:`.${l.value}`;c.doAdd(m)&&setTimeout(()=>u(m),100),l.value=""}),y=Be(()=>{for(let l of a.current?.querySelectorAll(".quick-pulse")??[])l.classList.remove("quick-pulse")},150),p=l=>a.current?.querySelector(`li:nth-child(${l})>button`),f=l=>Oe((h,m)=>{m.stopPropagation(),c.doRemove(h.dataset.value)&&setTimeout(()=>{let P=p(l+1)??p(l);(P??o.current)?.focus(),P&&(P.classList.add("quick-pulse"),setTimeout(()=>y(),150))},10)});function V(l){return Array.from([...c.value.values].entries()).map(l)}let R=()=>s(Z,{children:[s("input",{type:"text",name:e,ref:o,placeholder:n,class:d(U,"m-2"),onKeyDown:g}),s("span",{class:d(c.value.size===0&&"hidden",c.value.size<2?"text-foreground/50":"text-foreground","pl-2"),children:s(_e,{action:"allAny",disabled:c.value.size<2,initial:"any"})}),s("ul",{children:V(([l,h])=>s("li",{children:s("button",{type:"button","data-value":h,class:d("inline-flex flex-row","p-2","w-full text-left","cursor-pointer",Fe),...Y(f(l)),children:[s("div",{class:"-mt-[2px] inline-block scale-75 text-red-500",children:Yt}),h]})},h))})]});return s("div",{ref:a,class:d("flex flex-col"),children:t?R():null})}function Ga(t,e){if(e.kind==="rel"){let{edgeName:r,direction:n,minEntries:a}=e,o=t.edges[r];if(!o)return console.error("No edges found for:",r,n),[];let i=n==="direct"?o.entriesBackward:o.entriesForward,c=n==="direct"?o.toSource:o.fromSource,u=[...i].map(([g,y])=>{let p=c.get(g)?.name??g;return{value:g,label:p,count:y.size}});return typeof a=="number"?u.filter(g=>g.count>=a):u}if(e.kind==="prop"){let r=new Map;for(let{created:n}of t[e.vertexName].values){if(!n.year)continue;let a=`${n.year}`;r.set(a,(r.get(a)??0)+1)}return[...r.entries()].map(([n,a])=>{let o=`${n}`;return{value:n,label:o,count:a}})}return console.error("Unknown config kind",e),[]}function Wa(t,e){return t==="facet"&&e.kind==="rel"?"Name":t==="facet"&&e.kind==="prop"?"Value":t}function Ba(t,e){return t==="facet"?e==="facet-asc"&&Zt||e==="facet-desc"&&jt:t==="count"?e==="count-asc"&&Zt||e==="count-desc"&&jt:e==="sel-asc"&&Zt||e==="sel-desc"&&jt}function Ha(t,e){return t==="facet"?e==="facet-asc"?"facet-desc":"facet-asc":t==="count"?e==="count-desc"?"count-asc":"count-desc":e==="sel-desc"?"sel-asc":"sel-desc"}var vo={"facet-asc":(t,e)=>t.label.localeCompare(e.label),"facet-desc":(t,e)=>e.label.localeCompare(t.label),"count-asc":(t,e)=>t.count-e.count,"count-desc":(t,e)=>e.count-t.count,"sel-asc":(t,e,r)=>r?Number(r(t))-Number(r(e)):0,"sel-desc":(t,e,r)=>r?Number(r(e))-Number(r(t)):0};function Vr(t,e,r){let n=vo[e];return t.sort((a,o)=>n(a,o,r))}function Pr({action:t,class:e,col:r,config:n,order:a}){return s("button",{type:"button",class:d(Fe,"flex flex-row gap-1 px-2 py-1","items-center justify-between","italic","underline decoration-1 decoration-dotted","cursor-pointer",e),...Y(t),children:[s("span",{children:Wa(r,n)}),s("span",{class:d("scale-75"),children:Ba(r,a)}),s("span",{class:"flex-1"})]})}var Tr=class extends ee{doSetValue(e){let{main:r,data:n}=this;return r.doSetValue(n.groupKey,n.facetKey,e)}doToggle(e){let{value:r}=this;r.has(e)?r.delete(e):r.add(e),this.doSetValue(r)}doSetMode(e){let{value:r}=this;r.mode!==e&&(this.value.mode=e==="all"?"all":"any",this.doSetValue(r))}doToggleOrder(e){let{order:r}=this.data;this.data.order=Ha(e,r),Vr(this.data.entries,this.data.order,n=>this.value.has(n.value)),this.dispatch()}doResetSelection(){this.value.clear(),this.doSetValue(this.value)}doSetFilter(e){this.data.filter=e,this.dispatch()}get main(){return this.data.main}get filter(){return this.data.filter}get value(){let{main:e,groupKey:r,facetKey:n}=this.data;return e.values.getOrSet(r,n,()=>new Pe("any"))}get filteredEntries(){if(this.filter==="")return this.data.entries;let e=this.filter.toLowerCase();return this.data.entries.filter(r=>r.label.toLowerCase().includes(e))}get order(){return this.data.order}get hasSelection(){return this.value.size>0}};function $a({groupKey:t,facetKey:e,config:r,active:n}){let a=Q(),o=oe(re),i=N(()=>{let y=r.kind==="prop"?"facet-desc":"facet-asc",p=Vr(Ga(o.pg,r),y);return new Tr({config:r,entries:p,facetKey:e,groupKey:t,main:o,order:y,filter:""})});j(()=>ye(a?.current,"icon-button",y=>{y.stopPropagation(),i.doSetMode(y.detail.mode==="all"?"all":"any")}));let c=d("col-span-3","grid grid-cols-subgrid"),u=d(c,d("border-b-1","border-foreground/25 border-dotted")),g=()=>s("div",{class:d("grid grid-cols-[1fr_auto_auto]","overflow-hidden"),children:[s("div",{class:d(u,"bg-secondary text-foreground"),children:[s("div",{class:d("col-span-3","flex flex-row","items-center justify-between"),children:[s("input",{class:d(U,"m-1 block h-8 w-[100%]"),placeholder:"Filter...",value:i.filter,onInput:y=>i.doSetFilter(y.currentTarget.value)}),s(_e,{action:"allAny",initial:i.value.mode,disabled:i.value.size<2}),s("div",{class:d("scale-75 p-1",i.hasSelection?d("hover:text-hiliteb",et):"opacity-25"),...Y(()=>i.doResetSelection()),children:tt})]}),s(Pr,{class:"text-left",action:()=>i.doToggleOrder("facet"),col:"facet",config:r,order:i.order}),s(Pr,{class:"text-center",action:()=>i.doToggleOrder("count"),col:"count",config:r,order:i.order}),s(Pr,{class:"text-right",action:()=>i.doToggleOrder("sel"),col:"sel",config:r,order:i.order})]}),s("div",{class:d(u,"overflow-hidden","overflow-y-scroll"),children:i.filteredEntries.map(y=>k(Y(()=>i.doToggle(y.value)),p=>s("div",{class:d(u,Fe,i.value.has(y.value)&&"bg-secondary/20"),...p,children:[s("div",{class:d("p-2","text-left","overflow-hidden text-ellipsis","line-clamp-3"),children:y.label}),s("div",{class:d("p-2","text-center"),children:y.count}),s("div",{class:d("p-2","text-right"),children:s("input",{type:"checkbox",checked:i.value.has(y.value),...p})})]},y.value)))})]});return s("div",{ref:a,class:d("flex flex-col","size-full overflow-hidden"),children:n?g():null})}function za({groupKey:t,facetKey:e,label:r,valueMapper:n=a=>new Ft(a)}){let a=Q(),o=oe(re),i=Oe(c=>{o.doSetValue(t,e,n(c.checked))});return s("label",{for:e,class:d("inline-flex items-center gap-2","mx-2"),children:[s("input",{id:e,name:e,type:"checkbox",placeholder:r,...Y(i),checked:!!o.values.get(t,e)?.isPresent,ref:a}),r]})}function Ua({groupKey:t,facetKey:e,options:r,label:n}){let a=oe(re),o=a.values.get(t,e)?.value??"";return s("label",{class:d("m-2","flex","items-center","gap-2"),children:[s("span",{class:"inline-block min-w-[5rem]",children:n}),s("select",{class:d(U,"flex-1"),onChange:i=>{let c=i.target;a.doSetValue(t,e,new We(c.value))},value:o,children:r.map(({label:i,value:c})=>s("option",{value:c,selected:c===o,class:"text-pink-400",children:i},c))})]})}function Ya({groupKey:t,facetKey:e,label:r}){let n=oe(re),a=Be(Oe(i=>{n.doSetValue(t,e,new We(i.value.toLowerCase()))}),50),o=n.values.get(t,e)?.value??"";return s("input",{type:"search",onInput:a,placeholder:r,class:d("m-2",U),value:o})}function ja(t){return({currentFacetGroup:e})=>s(Z,{children:[...t.entries()].map(([r,{title:n,facets:a}])=>s(xo,{groupKey:r,label:n,active:e===r,children:a.map(o=>{let{kind:i,label:c,facetKey:u}=o,g={groupKey:r,facetKey:u,label:c,active:e===r};switch(i){case"bool":return s(za,{...g,valueMapper:o.valueMapper});case"multi":return s(Oa,{...g});case"table":return s($a,{...g,config:o.config});case"text":return s(Ya,{...g});case"select":return s(Ua,{...g,options:o.options});default:console.error("Facet not found",u)}})},r))})}function xo({active:t,children:e}){let r=oe(re);return s("div",{class:d("relative",!t&&"hidden","flex-1 pt-1","self-center","size-full overflow-hidden overflow-y-auto","flex flex-col gap-2"),children:e})}function D(t,e,r){return{kind:"bool",facetKey:t,label:e,valueMapper:r}}function Za(t,e){return{kind:"multi",facetKey:t,label:e}}function _(t,e,r){return{kind:"table",facetKey:t,label:e,config:r}}function z(t,e){return{kind:"text",facetKey:t,label:e}}function ln(t,e,r=bo()){return{kind:"select",label:e,facetKey:t,options:r}}function bo(){return[{label:"Any time",value:""},{label:"Past 3 months",value:be(3,"m")},{label:"Past 6 months",value:be(6,"m")},{label:"Past year",value:be(1,"y")},{label:"Past 2 years",value:be(2,"y")},{label:"Past 3 years",value:be(3,"y")},{label:"Past 4 years",value:be(4,"y")},{label:"Past 5 years",value:be(5,"y")},{label:"Past 7 years",value:be(7,"y")},{label:"Past 10 years",value:be(10,"y")}]}function ne(t){let e=new Map(Object.entries(t)),r=new Map;for(let[a,{facets:o}]of Object.entries(t))for(let i of o)r.set(i.facetKey,a);let n=ja(e);return[e,r,n]}var[wo,Ja,_o]=ne({creationYear:{title:"Creation Year",facets:[_("creationYear","Creation Year",te("app","created"))]},general:{title:"General",facets:[z("name","App Name"),D("createdRecently","Created Recently",t=>t?new G(new Date().getFullYear()-5):new O),D("releasedRecently","Released Recently",t=>t?new G(new Date().getFullYear()-1):new O),z("ghStars","GitHub Stars")]},licenses:{title:"Licenses",facets:[_("licenses","Licenses",T("app","relLicenses"))]},platforms:{title:"Platforms",facets:[_("platforms","Platforms",T("app","relPlatforms"))]},tags:{title:"Tags",facets:[_("tags","Tags",T("app","relTags"))]},writtenWith:{title:"Written With",facets:[_("writtenWith","Written With",T("app","relWrittenWith"))]}}),qa="apps",Xa={groupKeys:[["general"],["writtenWith"],["tags","creationYear","licenses"],["platforms"]],default:"general"},Cr=class t extends A{constructor(){super(...arguments);this.nav=Xa;this.page=qa;this.vertexName="app";this.gkByFk=Ja;this.groupsConfig=wo;this.groupsComponent=_o}static initial(r){let n=S(qa),a=n.load("facets-last-group")??Xa.default,[{mode:o},i]=A.deserialize(Ja,K.deserialize()??n.load("facet-value"));return new t({pg:r,currentGroupKey:a,values:i,mode:o})}};var[Vo,Qa,Po]=ne({creationYear:{title:"Creation Year",facets:[_("creationYear","Creation Year",te("community","created"))]},general:{title:"General",facets:[z("name","Community Name"),D("createdRecently","Created Recently",t=>t?new G(new Date().getFullYear()-5):new O)]},apps:{title:"Licenses",facets:[_("apps","Apps",T("community","relApps"))]},libraries:{title:"Platforms",facets:[_("libraries","libraries",T("community","relLibraries"))]},tags:{title:"Tags",facets:[_("tags","Tags",T("community","relTags"))]},plangs:{title:"Written For",facets:[_("plangs","Plangs",T("community","relPlangs"))]},tools:{title:"Written With",facets:[_("tools","Tools",T("community","relTools"))]}}),es="communities",ts={groupKeys:[["general"],["plangs","libraries"],["apps","tools"],["tags"]],default:"general"},Rr=class t extends A{constructor(){super(...arguments);this.nav=ts;this.page=es;this.vertexName="community";this.gkByFk=Qa;this.groupsConfig=Vo;this.groupsComponent=Po}static initial(r){let n=S(es),a=n.load("facets-last-group")??ts.default,[{mode:o},i]=A.deserialize(Qa,K.deserialize()??n.load("facet-value"));return new t({pg:r,currentGroupKey:a,values:i,mode:o})}};var[To,rs,Co]=ne({creationYear:{title:"Creation Year",facets:[_("creationYear","Creation Year",te("learning","created"))]},general:{title:"General",facets:[z("name","Learning Name"),D("createdRecently","Created Recently",t=>t?new G(new Date().getFullYear()-5):new O)]},apps:{title:"Apps",facets:[_("apps","Apps",T("learning","relApps"))]},libraries:{title:"Libraries",facets:[_("libraries","libraries",T("learning","relLibraries"))]},tags:{title:"Tags",facets:[_("tags","Tags",T("learning","relTags"))]},plangs:{title:"Plangs",facets:[_("plangs","Plangs",T("learning","relPlangs"))]},tools:{title:"Tools",facets:[_("tools","Tools",T("learning","relTools"))]}}),ns="learning",as={groupKeys:[["general"],["plangs","libraries"],["apps","tools"],["tags"]],default:"general"},kr=class t extends A{constructor(){super(...arguments);this.nav=as;this.page=ns;this.vertexName="learning";this.gkByFk=rs;this.groupsConfig=To;this.groupsComponent=Co}static initial(r){let n=S(ns),a=n.load("facets-last-group")??as.default,[{mode:o},i]=A.deserialize(rs,K.deserialize()??n.load("facet-value"));return new t({pg:r,currentGroupKey:a,values:i,mode:o})}};var[Ro,ss,ko]=ne({creationYear:{title:"Creation Year",facets:[_("creationYear","Creation Year",te("library","created"))]},general:{title:"General",facets:[z("name","Library Name"),D("createdRecently","Created Recently",t=>t?new G(new Date().getFullYear()-5):new O),D("releasedRecently","Released Recently",t=>t?new G(new Date().getFullYear()-1):new O),z("ghStars","GitHub Stars")]},licenses:{title:"Licenses",facets:[_("licenses","Licenses",T("library","relLicenses"))]},platforms:{title:"Platforms",facets:[_("platforms","Platforms",T("library","relPlatforms"))]},tags:{title:"Tags",facets:[_("tags","Tags",T("library","relTags"))]},writtenWith:{title:"Written With ",facets:[_("writtenWith","Written With",T("library","relWrittenWith"))]},writtenFor:{title:"Written For",facets:[_("writtenFor","Written For",T("tool","relPlangs"))]}}),os="libraries",is={groupKeys:[["general"],["writtenWith","writtenFor"],["tags","creationYear","licenses"],["platforms"]],default:"general"},Sr=class t extends A{constructor(){super(...arguments);this.nav=is;this.page=os;this.vertexName="library";this.gkByFk=ss;this.groupsConfig=Ro;this.groupsComponent=ko}static initial(r){let n=S(os),a=n.load("facets-last-group")??is.default,[{mode:o},i]=A.deserialize(ss,K.deserialize()??n.load("facet-value"));return new t({pg:r,currentGroupKey:a,values:i,mode:o})}};var[So,ls,Fo]=ne({creationYear:{title:"Creation Year",facets:[_("creationYear","Creation Year",te("plang","created"))]},dialectOf:{title:"Dialect Of",facets:[_("dialectOf","Dialect Of",T("plang","relDialectOf"))]},general:{title:"General",facets:[z("name","Plang Name"),Za("extensions","Extensions"),ln("created","Created"),ln("released","Released"),D("isPopular","Is Popular"),D("hasLogo","Has Logo"),D("hasWikipedia","Has Wikipedia")]},implements:{title:"Implements",facets:[_("implements","Implements",{...T("plang","relImplements"),minEntries:2})]},influenced:{title:"Influenced",facets:[_("influenced","Influenced",T("plang","relInfluenced"))]},influencedBy:{title:"Influenced By",facets:[_("influencedBy","Influenced By",T("plang","relInfluencedBy"))]},licenses:{title:"Licenses",facets:[_("licenses","Licenses",T("plang","relLicenses"))]},paradigms:{title:"Paradigms",facets:[_("paradigms","Paradigms",T("plang","relParadigms"))]},platforms:{title:"Platforms",facets:[_("platforms","Platforms",T("plang","relPlatforms"))]},tags:{title:"Tags",facets:[_("tags","Tags",T("plang","relTags"))]},transpiler:{title:"Transpiler",facets:[D("isTranspiler","Transpiler to Anything"),_("compilesTo","Compiles To",T("plang","relCompilesTo"))]},typeSystems:{title:"Type Systems",facets:[_("typeSystems","Type Systems",T("plang","relTypeSystems"))]},writtenWith:{title:"Written With",facets:[_("writtenWith","Written With",T("plang","relWrittenWith"))]}}),cs="plangs",ps={groupKeys:[["general"],["platforms","paradigms","typeSystems"],["writtenWith","transpiler","dialectOf","implements","influencedBy","influenced"],["tags","creationYear","licenses"]],default:"general"},Fr=class t extends A{constructor(){super(...arguments);this.nav=ps;this.page=cs;this.vertexName="plang";this.gkByFk=ls;this.groupsConfig=So;this.groupsComponent=Fo}static initial(r){let n=S(cs),a=n.load("facets-last-group")??ps.default,[{mode:o},i]=A.deserialize(ls,K.deserialize()??n.load("facet-value"));return new t({pg:r,currentGroupKey:a,values:i,mode:o})}};var[Eo,ds,No]=ne({creationYear:{title:"Creation Year",facets:[_("creationYear","Creation Year",te("subsystem","created"))]},general:{title:"General",facets:[z("name","Subsystem Name"),D("createdRecently","Created Recently",t=>t?new G(new Date().getFullYear()-5):new O),D("releasedRecently","Released Recently",t=>t?new G(new Date().getFullYear()-1):new O),z("ghStars","GitHub Stars")]},licenses:{title:"Licenses",facets:[_("licenses","Licenses",T("subsystem","relLicenses"))]},platforms:{title:"Platforms",facets:[_("platforms","Platforms",T("subsystem","relPlatforms"))]},tags:{title:"Tags",facets:[_("tags","Tags",T("subsystem","relTags"))]},writtenWith:{title:"Written With",facets:[_("writtenWith","Written With",T("subsystem","relWrittenWith"))]}}),us="subsystems",gs={groupKeys:[["general"],["writtenWith"],["tags","creationYear","licenses"],["platforms"]],default:"general"},Er=class t extends A{constructor(){super(...arguments);this.nav=gs;this.page=us;this.vertexName="subsystem";this.gkByFk=ds;this.groupsConfig=Eo;this.groupsComponent=No}static initial(r){let n=S(us),a=n.load("facets-last-group")??gs.default,[{mode:o},i]=A.deserialize(ds,K.deserialize()??n.load("facet-value"));return new t({pg:r,currentGroupKey:a,values:i,mode:o})}};var[Ao,ms,Ko]=ne({creationYear:{title:"Creation Year",facets:[_("creationYear","Creation Year",te("tool","created"))]},general:{title:"General",facets:[z("name","Tool Name"),D("createdRecently","Created Recently",t=>t?new G(new Date().getFullYear()-5):new O),D("releasedRecently","Released Recently",t=>t?new G(new Date().getFullYear()-1):new O),z("ghStars","GitHub Stars")]},licenses:{title:"Licenses",facets:[_("licenses","Licenses",T("tool","relLicenses"))]},platforms:{title:"Platforms",facets:[_("platforms","Platforms",T("tool","relPlatforms"))]},tags:{title:"Tags",facets:[_("tags","Tags",T("tool","relTags"))]},writtenFor:{title:"Written For",facets:[_("writtenFor","Written For",T("tool","relPlangs"))]},writtenWith:{title:"Written With",facets:[_("writtenWith","Written With",T("tool","relWrittenWith"))]}}),fs="tools",hs={groupKeys:[["general"],["writtenWith","writtenFor"],["tags","creationYear","licenses"],["platforms"]],default:"general"},Nr=class t extends A{constructor(){super(...arguments);this.nav=hs;this.page=fs;this.vertexName="tool";this.gkByFk=ms;this.groupsConfig=Ao;this.groupsComponent=Ko}static initial(r){let n=S(fs),a=n.load("facets-last-group")??hs.default,[{mode:o},i]=A.deserialize(ms,K.deserialize()??n.load("facet-value"));return new t({pg:r,currentGroupKey:a,values:i,mode:o})}};var re=Vn(void 0);function ys(t,e){let r;if(t==="apps"&&(r=N(()=>Cr.initial(e))),t==="communities"&&(r=N(()=>Rr.initial(e))),t==="learning"&&(r=N(()=>kr.initial(e))),t==="libraries"&&(r=N(()=>Sr.initial(e))),t==="plangs"&&(r=N(()=>Fr.initial(e))),t==="subsystems"&&(r=N(()=>Er.initial(e))),t==="tools"&&(r=N(()=>Nr.initial(e))),!r){console.error("Unknown page",t);return}return r.runEffects()}var vs=d("col-span-2","grid grid-cols-subgrid","items-center","grow-0");function xs({page:t,pg:e}){let r=ys(t,e),n=zt(r);j(()=>window.fragment.onUserChange(o=>r?.doResetAll(o.deserFrag))),j(()=>ye(n?.current,"icon-button",o=>{o.stopPropagation(),r?.doSetMode(o.detail.mode==="all"?"all":"any")}));let a=o=>s(re.Provider,{value:o,children:[s(Lo,{page:t,state:o,class:ae("facetsBar")}),s("div",{class:d(ae("facetsSelect"),"flex-row items-center gap-2 bg-primary/85 p-2"),children:[s("select",{class:d(U,"block h-8 w-full flex-1 py-0 text-black/85"),onChange:i=>o.doSetCurrentGroup(i.currentTarget.value),children:o.nav.groupKeys.map(i=>s("optgroup",{children:i.map(c=>s("option",{value:c,selected:o.currentGroupKey===c,children:[o.groupTitle(c),o.groupHasValues(c)?" \u2611":""]},c))},i.join("-")))}),s("span",{class:"text-background",title:"Match either All or Any of the categories.",children:s(_e,{action:"allAny",initial:o.mode},o.mode)})]}),s("div",{class:d("w-full ","flex flex-col","overflow-hidden","bg-linear-to-b to-primary/25","relative"),children:s(o.groupsComponent,{currentFacetGroup:o.currentGroupKey})})]});return s("aside",{ref:n,class:d(ae("facetsWrapper"),"flex","size-full overflow-hidden","border-1 border-primary/25 border-t-0"),children:r&&a(r)})}function Lo({state:t,page:e,class:r}){let n=(a,o,i)=>o.map(c=>i(c,a.currentGroupKey===c,a.groupHasValues(c)));return s("aside",{class:d("h-full min-w-[12rem] sm:pt-2",Ee,"bg-linear-to-r from-primary/25 to-transparent",r),children:s("div",{class:d("grid grid-cols-[1fr_auto]","ml-2"),children:[s("header",{class:d("text-primary uppercase","col-span-2 pt-2"),children:["Filter ",e]}),s("div",{class:"flex flex-row px-3 pt-1 pb-4",title:"Match either All or Any of the categories.",children:s(_e,{action:"allAny",initial:t.mode},t.mode)}),t.nav.groupKeys.map(a=>s("nav",{class:d("md:mb-6",vs),children:n(t,a,(o,i,c)=>s("div",{class:d(vs,i?d(d("border-secondary border-dotted","border-l-1"),"bg-primary/85 text-background"):"hover:bg-primary/25"),style:`${c?"font-weight: bold":""}`,children:[s("button",{...Y(()=>t.doSetCurrentGroup(o)),class:d("block w-full","truncate text-left","px-4 py-1.5","cursor-pointer",i&&"text-background/85"),children:t.groupTitle(o)}),s("div",{...Y(()=>t.doResetGroup(o)),class:d("p-1","scale-75","cursor-pointer",t.groupHasValues(o)?d("hover:text-hiliteb",et):"hidden"),children:tt})]},o))},a.join("-")))]})})}function bs(t){for(let e of X("facetsMain"))if(t&&e.dataset.page)try{Ce(s(xs,{pg:t,page:e.dataset.page}),e)}catch(r){console.error("Error rendering FacetsMain component:",r)}else console.error("Missing prop for FacetsMain component.")}async function ws(t){return fetch("/plangs.json").then(async e=>{console.info("Using remote data."),t.loadJSON(await e.json()),t.materialize()})}async function _s(t){let e=S("_any_page_");if(!e.load("enable-local-edits"))return ws(t);let r=e.load("local-edits");if(r)console.info("Using local edits."),document.addEventListener("DOMContentLoaded",()=>we("localEditWarning")?.classList.remove("hidden")),t.loadJSON(r),t.materialize();else return ws(t)}function Vs(t,e){let r=e.closest(`[${Ue("vertex-key")}]`),n=lt(r,"vertex-key"),a=lt(r,"vertex-name"),o=n&&a&&t[a];if(o)return o.get(n)}window.fragment=new K().bind();window.restoreFilters=()=>mt.initial().runEffects();window.restoreHamburguer=()=>gt.initial().runEffects();window.restoreLightMode=()=>ut.initial().runEffects();window.restoreVertexInfo=()=>rn();document.addEventListener("mouseover",t=>{let e=t.target,r=e.getAttribute("href");if(!r||e?.tagName!=="A"||!e.classList.contains("prefetch"))return;e.classList.remove("prefetch");let n=document.createElement("link");n.rel="prefetch",n.href=r,document.head.appendChild(n)});async function Do(){let t=new st,e=_s(t);document.addEventListener("DOMContentLoaded",()=>{pa(),e.then(()=>{bs(t),ka(t);let r=we("vertexGrid");if(r){ye(r,"pointerdown",({target:n})=>{let a=Vs(t,n);rn(a)});for(let n of X("vertexThumbnImg")){let a=n.dataset.src;a&&n.setAttribute("src",a)}}})})}try{Do()}catch(t){console.error(t)}if(0)try{}catch(t){}})();
//# sourceMappingURL=app.js.map
